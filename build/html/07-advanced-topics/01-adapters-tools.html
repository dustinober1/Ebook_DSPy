<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Adapters and Tools - DSPy: A Practical Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="The most comprehensive DSPy guide with complete coverage of 9 research papers, advanced optimization techniques, and production-ready applications">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../assets/custom-5fe0be54.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-8a4736e7.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-90eb277b.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">DSPy: A Practical Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/dustinober1/Ebook_DSPy" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/dustinober1/Ebook_DSPy/edit/main/src/07-advanced-topics/01-adapters-tools.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="adapters-and-tools-extending-dspy-capabilities"><a class="header" href="#adapters-and-tools-extending-dspy-capabilities">Adapters and Tools: Extending DSPy Capabilities</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>Adapters and tools are the building blocks that allow DSPy to integrate with external systems, handle specialized tasks, and extend its core functionality. Understanding how to create and use adapters is crucial for building production-ready applications that need to work with databases, APIs, file systems, and other external resources.</p>
<h2 id="understanding-dspy-adapters"><a class="header" href="#understanding-dspy-adapters">Understanding DSPy Adapters</a></h2>
<h3 id="what-is-an-adapter"><a class="header" href="#what-is-an-adapter">What is an Adapter?</a></h3>
<p>An adapter is a component that bridges DSPy with external systems or provides specialized functionality. Adapters follow the interface principle, allowing seamless integration while maintaining consistency within the DSPy ecosystem.</p>
<h3 id="types-of-adapters"><a class="header" href="#types-of-adapters">Types of Adapters</a></h3>
<ol>
<li><strong>Data Adapters</strong>: Connect to databases, file systems, APIs</li>
<li><strong>Tool Adapters</strong>: Provide specialized functionality (calculators, validators)</li>
<li><strong>Integration Adapters</strong>: Connect with external services (cloud providers, monitoring)</li>
<li><strong>Custom Adapters</strong>: Domain-specific adapters for specialized use cases</li>
</ol>
<h2 id="built-in-dspy-adapters"><a class="header" href="#built-in-dspy-adapters">Built-in DSPy Adapters</a></h2>
<h3 id="database-adapter"><a class="header" href="#database-adapter">Database Adapter</a></h3>
<pre><code class="language-python">import dspy
from dspy.adapters import DatabaseAdapter

class PostgreSQLAdapter(DatabaseAdapter):
    """PostgreSQL database adapter for DSPy."""

    def __init__(self, connection_string, table_name="dspy_data"):
        super().__init__()
        self.connection_string = connection_string
        self.table_name = table_name
        self._connection = None

    def connect(self):
        """Establish database connection."""
        import psycopg2
        self._connection = psycopg2.connect(self.connection_string)
        return self._connection

    def query(self, sql_query, params=None):
        """Execute SQL query and return results."""
        if not self._connection:
            self.connect()

        cursor = self._connection.cursor()
        cursor.execute(sql_query, params or ())
        results = cursor.fetchall()
        cursor.close()
        return results

    def insert(self, data):
        """Insert data into database."""
        columns = list(data.keys())
        values = list(data.values())
        placeholders = ", ".join(["%s"] * len(values))

        sql = f"""
        INSERT INTO {self.table_name} ({", ".join(columns)})
        VALUES ({placeholders})
        """

        if not self._connection:
            self.connect()

        cursor = self._connection.cursor()
        cursor.execute(sql, values)
        self._connection.commit()
        cursor.close()

    def close(self):
        """Close database connection."""
        if self._connection:
            self._connection.close()
            self._connection = None
</code></pre>
<h3 id="api-adapter"><a class="header" href="#api-adapter">API Adapter</a></h3>
<pre><code class="language-python">class APIAdapter(dspy.Adapter):
    """Generic API adapter for DSPy integration."""

    def __init__(self, base_url, headers=None, auth=None):
        super().__init__()
        self.base_url = base_url
        self.headers = headers or {}
        self.auth = auth
        self.session = None

    def _get_session(self):
        """Initialize HTTP session."""
        import requests
        if not self.session:
            self.session = requests.Session()
            self.session.headers.update(self.headers)
            if self.auth:
                self.session.auth = self.auth
        return self.session

    def get(self, endpoint, params=None):
        """Make GET request to API."""
        session = self._get_session()
        url = f"{self.base_url}/{endpoint}"
        response = session.get(url, params=params)
        response.raise_for_status()
        return response.json()

    def post(self, endpoint, data=None):
        """Make POST request to API."""
        session = self._get_session()
        url = f"{self.base_url}/{endpoint}"
        response = session.post(url, json=data)
        response.raise_for_status()
        return response.json()

    def put(self, endpoint, data=None):
        """Make PUT request to API."""
        session = self._get_session()
        url = f"{self.base_url}/{endpoint}"
        response = session.put(url, json=data)
        response.raise_for_status()
        return response.json()
</code></pre>
<h2 id="creating-custom-adapters"><a class="header" href="#creating-custom-adapters">Creating Custom Adapters</a></h2>
<h3 id="file-system-adapter"><a class="header" href="#file-system-adapter">File System Adapter</a></h3>
<pre><code class="language-python">import os
import json
import pickle
from pathlib import Path

class FileSystemAdapter(dspy.Adapter):
    """Adapter for file system operations."""

    def __init__(self, base_path="."):
        super().__init__()
        self.base_path = Path(base_path)
        self.base_path.mkdir(parents=True, exist_ok=True)

    def read_file(self, filename, encoding='utf-8'):
        """Read file content."""
        file_path = self.base_path / filename
        return file_path.read_text(encoding=encoding)

    def write_file(self, filename, content, encoding='utf-8'):
        """Write content to file."""
        file_path = self.base_path / filename
        file_path.write_text(content, encoding=encoding)

    def read_json(self, filename):
        """Read JSON file."""
        file_path = self.base_path / filename
        return json.loads(file_path.read_text())

    def write_json(self, filename, data, indent=2):
        """Write data to JSON file."""
        file_path = self.base_path / filename
        file_path.write_text(json.dumps(data, indent=indent))

    def save_pickle(self, filename, obj):
        """Save object as pickle."""
        file_path = self.base_path / filename
        with open(file_path, 'wb') as f:
            pickle.dump(obj, f)

    def load_pickle(self, filename):
        """Load object from pickle."""
        file_path = self.base_path / filename
        with open(file_path, 'rb') as f:
            return pickle.load(f)

    def list_files(self, pattern="*"):
        """List files matching pattern."""
        return list(self.base_path.glob(pattern))

    def delete_file(self, filename):
        """Delete file."""
        file_path = self.base_path / filename
        if file_path.exists():
            file_path.unlink()
</code></pre>
<h3 id="cache-adapter"><a class="header" href="#cache-adapter">Cache Adapter</a></h3>
<pre><code class="language-python">import time
from typing import Any, Optional

class CacheAdapter(dspy.Adapter):
    """Generic caching adapter."""

    def __init__(self, ttl=3600):
        super().__init__()
        self.cache = {}
        self.ttl = ttl  # Time to live in seconds

    def get(self, key: str) -&gt; Optional[Any]:
        """Get value from cache."""
        if key in self.cache:
            value, timestamp = self.cache[key]
            if time.time() - timestamp &lt; self.ttl:
                return value
            else:
                del self.cache[key]  # Expired
        return None

    def set(self, key: str, value: Any):
        """Set value in cache."""
        self.cache[key] = (value, time.time())

    def delete(self, key: str):
        """Delete value from cache."""
        if key in self.cache:
            del self.cache[key]

    def clear(self):
        """Clear all cache."""
        self.cache.clear()

    def size(self):
        """Get cache size."""
        return len(self.cache)

    def cleanup_expired(self):
        """Remove expired entries."""
        current_time = time.time()
        expired_keys = [
            key for key, (_, timestamp) in self.cache.items()
            if current_time - timestamp &gt;= self.ttl
        ]
        for key in expired_keys:
            del self.cache[key]
</code></pre>
<h2 id="specialized-tools"><a class="header" href="#specialized-tools">Specialized Tools</a></h2>
<h3 id="calculator-tool"><a class="header" href="#calculator-tool">Calculator Tool</a></h3>
<pre><code class="language-python">import operator
import math

class CalculatorTool(dspy.Tool):
    """Mathematical calculator tool."""

    def __init__(self):
        super().__init__()
        self.operations = {
            '+': operator.add,
            '-': operator.sub,
            '*': operator.mul,
            '/': operator.truediv,
            '^': operator.pow,
            '%': operator.mod,
        }

    def calculate(self, expression: str) -&gt; float:
        """Evaluate mathematical expression."""
        # Simple expression parser
        tokens = expression.split()
        if len(tokens) != 3:
            raise ValueError("Expression must be in format: num operator num")

        try:
            num1 = float(tokens[0])
            op = tokens[1]
            num2 = float(tokens[2])
        except ValueError:
            raise ValueError("Invalid numbers in expression")

        if op not in self.operations:
            raise ValueError(f"Unsupported operator: {op}")

        return self.operations[op](num1, num2)

    def advanced_calculate(self, expression: str) -&gt; float:
        """Evaluate more complex expressions."""
        # For complex expressions, use eval with safety checks
        allowed_names = {
            "sqrt": math.sqrt,
            "log": math.log,
            "exp": math.exp,
            "sin": math.sin,
            "cos": math.cos,
            "tan": math.tan,
            "pi": math.pi,
            "e": math.e
        }

        # Safety check: only allowed functions
        for name in expression:
            if name.isalpha() and name not in allowed_names:
                raise ValueError(f"Function {name} not allowed")

        return eval(expression, {"__builtins__": {}}, allowed_names)
</code></pre>
<h3 id="text-processing-tool"><a class="header" href="#text-processing-tool">Text Processing Tool</a></h3>
<pre><code class="language-python">import re
from typing import List, Dict

class TextProcessingTool(dspy.Tool):
    """Advanced text processing tool."""

    def __init__(self):
        super().__init__()

    def extract_emails(self, text: str) -&gt; List[str]:
        """Extract email addresses from text."""
        pattern = r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'
        return re.findall(pattern, text)

    def extract_phone_numbers(self, text: str) -&gt; List[str]:
        """Extract phone numbers from text."""
        patterns = [
            r'\b\d{3}-\d{3}-\d{4}\b',  # 123-456-7890
            r'\b\(\d{3}\) \d{3}-\d{4}\b',  # (123) 456-7890
            r'\b\d{10}\b'  # 1234567890
        ]
        numbers = []
        for pattern in patterns:
            numbers.extend(re.findall(pattern, text))
        return numbers

    def extract_urls(self, text: str) -&gt; List[str]:
        """Extract URLs from text."""
        pattern = r'http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+'
        return re.findall(pattern, text)

    def clean_text(self, text: str, remove_special_chars=True, lowercase=True) -&gt; str:
        """Clean and normalize text."""
        if lowercase:
            text = text.lower()

        if remove_special_chars:
            text = re.sub(r'[^a-zA-Z0-9\s]', '', text)

        # Remove extra whitespace
        text = re.sub(r'\s+', ' ', text).strip()

        return text

    def tokenize(self, text: str) -&gt; List[str]:
        """Tokenize text into words."""
        return re.findall(r'\b\w+\b', text.lower())

    def get_word_frequency(self, text: str) -&gt; Dict[str, int]:
        """Get word frequency dictionary."""
        tokens = self.tokenize(text)
        frequency = {}
        for token in tokens:
            frequency[token] = frequency.get(token, 0) + 1
        return frequency

    def extract_keywords(self, text: str, top_n: int = 10) -&gt; List[str]:
        """Extract top keywords from text."""
        frequency = self.get_word_frequency(text)
        # Sort by frequency and return top N
        sorted_words = sorted(frequency.items(), key=lambda x: x[1], reverse=True)
        return [word for word, _ in sorted_words[:top_n]]
</code></pre>
<h3 id="validation-tool"><a class="header" href="#validation-tool">Validation Tool</a></h3>
<pre><code class="language-python">import re
from datetime import datetime

class ValidationTool(dspy.Tool):
    """Data validation tool."""

    def __init__(self):
        super().__init__()
        self.validators = {
            'email': self.validate_email,
            'phone': self.validate_phone,
            'url': self.validate_url,
            'date': self.validate_date,
            'credit_card': self.validate_credit_card
        }

    def validate_email(self, email: str) -&gt; bool:
        """Validate email format."""
        pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        return bool(re.match(pattern, email))

    def validate_phone(self, phone: str) -&gt; bool:
        """Validate phone number format."""
        # Remove all non-digit characters
        digits = re.sub(r'\D', '', phone)
        return len(digits) == 10

    def validate_url(self, url: str) -&gt; bool:
        """Validate URL format."""
        pattern = r'^https?://(?:[-\w.])+(?:[:\d]+)?(?:/(?:[\w/_.])*(?:\?(?:[\w&amp;=%.])*)?(?:#(?:\w*))?)?$'
        return bool(re.match(pattern, url))

    def validate_date(self, date_str: str, format='%Y-%m-%d') -&gt; bool:
        """Validate date format."""
        try:
            datetime.strptime(date_str, format)
            return True
        except ValueError:
            return False

    def validate_credit_card(self, card_number: str) -&gt; bool:
        """Validate credit card number using Luhn algorithm."""
        # Remove all non-digit characters
        digits = re.sub(r'\D', '', card_number)

        if len(digits) not in [13, 14, 15, 16, 19]:
            return False

        # Luhn algorithm
        total = 0
        num_digits = len(digits)
        oddeven = num_digits &amp; 1

        for i, digit in enumerate(digits):
            d = int(digit)
            if ((i &amp; 1) ^ oddeven) == 0:
                d = d * 2
                if d &gt; 9:
                    d -= 9
            total += d

        return total % 10 == 0

    def validate(self, data: Dict[str, Any], rules: Dict[str, str]) -&gt; Dict[str, bool]:
        """Validate data against rules."""
        results = {}
        for field, validation_type in rules.items():
            if field not in data:
                results[field] = False
                continue

            if validation_type not in self.validators:
                raise ValueError(f"Unknown validation type: {validation_type}")

            validator = self.validators[validation_type]
            results[field] = validator(str(data[field]))

        return results
</code></pre>
<h2 id="integration-with-external-services"><a class="header" href="#integration-with-external-services">Integration with External Services</a></h2>
<h3 id="google-sheets-adapter"><a class="header" href="#google-sheets-adapter">Google Sheets Adapter</a></h3>
<pre><code class="language-python">import gspread
from google.oauth2.service_account import Credentials

class GoogleSheetsAdapter(dspy.Adapter):
    """Google Sheets adapter for DSPy."""

    def __init__(self, credentials_file=None, scopes=None):
        super().__init__()
        self.credentials_file = credentials_file
        self.scopes = scopes or ['https://www.googleapis.com/auth/spreadsheets']
        self.client = None

    def _get_client(self):
        """Initialize Google Sheets client."""
        if not self.client:
            creds = Credentials.from_service_account_file(
                self.credentials_file,
                scopes=self.scopes
            )
            self.client = gspread.authorize(creds)
        return self.client

    def read_worksheet(self, spreadsheet_id, worksheet_name):
        """Read data from worksheet."""
        client = self._get_client()
        spreadsheet = client.open_by_key(spreadsheet_id)
        worksheet = spreadsheet.worksheet(worksheet_name)
        return worksheet.get_all_records()

    def write_worksheet(self, spreadsheet_id, worksheet_name, data):
        """Write data to worksheet."""
        client = self._get_client()
        spreadsheet = client.open_by_key(spreadsheet_id)
        worksheet = spreadsheet.worksheet(worksheet_name)

        # Clear existing data
        worksheet.clear()

        # Write headers
        if data:
            headers = list(data[0].keys())
            worksheet.append_row(headers)

            # Write data rows
            for row in data:
                worksheet.append_row([row.get(header, "") for header in headers])

    def append_row(self, spreadsheet_id, worksheet_name, row_data):
        """Append a row to worksheet."""
        client = self._get_client()
        spreadsheet = client.open_by_key(spreadsheet_id)
        worksheet = spreadsheet.worksheet(worksheet_name)
        worksheet.append_row(row_data)
</code></pre>
<h3 id="aws-s3-adapter"><a class="header" href="#aws-s3-adapter">AWS S3 Adapter</a></h3>
<pre><code class="language-python">import boto3
from botocore.exceptions import ClientError

class S3Adapter(dspy.Adapter):
    """AWS S3 adapter for DSPy."""

    def __init__(self, bucket_name, aws_access_key=None, aws_secret_key=None, region='us-east-1'):
        super().__init__()
        self.bucket_name = bucket_name
        self.s3_client = boto3.client(
            's3',
            aws_access_key_id=aws_access_key,
            aws_secret_access_key=aws_secret_key,
            region_name=region
        )

    def upload_file(self, file_path, object_name=None):
        """Upload file to S3."""
        if object_name is None:
            object_name = os.path.basename(file_path)

        try:
            self.s3_client.upload_file(file_path, self.bucket_name, object_name)
            return f"s3://{self.bucket_name}/{object_name}"
        except ClientError as e:
            raise Exception(f"Failed to upload file: {e}")

    def download_file(self, object_name, file_path):
        """Download file from S3."""
        try:
            self.s3_client.download_file(self.bucket_name, object_name, file_path)
            return file_path
        except ClientError as e:
            raise Exception(f"Failed to download file: {e}")

    def list_objects(self, prefix=''):
        """List objects in S3 bucket."""
        try:
            response = self.s3_client.list_objects_v2(
                Bucket=self.bucket_name,
                Prefix=prefix
            )
            return response.get('Contents', [])
        except ClientError as e:
            raise Exception(f"Failed to list objects: {e}")

    def delete_object(self, object_name):
        """Delete object from S3."""
        try:
            self.s3_client.delete_object(Bucket=self.bucket_name, Key=object_name)
            return True
        except ClientError as e:
            raise Exception(f"Failed to delete object: {e}")
</code></pre>
<h2 id="using-adapters-in-dspy-modules"><a class="header" href="#using-adapters-in-dspy-modules">Using Adapters in DSPy Modules</a></h2>
<h3 id="rag-system-with-database-adapter"><a class="header" href="#rag-system-with-database-adapter">RAG System with Database Adapter</a></h3>
<pre><code class="language-python">class EnhancedRAG(dspy.Module):
    """RAG system with database persistence."""

    def __init__(self, db_adapter):
        super().__init__()
        self.db = db_adapter
        self.retrieve = dspy.Retrieve(k=5)
        self.generate = dspy.ChainOfThought("context, question -&gt; answer")

    def forward(self, question):
        # Check cache first
        cache_key = f"rag:{hash(question)}"
        cached_result = self.db.get(cache_key)

        if cached_result:
            return dspy.Prediction(**cached_result)

        # Process normally
        retrieved = self.retrieve(question=question)
        context = retrieved.passages
        prediction = self.generate(context="\n".join(context), question=question)

        # Cache result
        result = {
            "answer": prediction.answer,
            "context": context,
            "reasoning": prediction.rationale
        }
        self.db.set(cache_key, result)

        return dspy.Prediction(**result)
</code></pre>
<h3 id="agent-with-tool-integration"><a class="header" href="#agent-with-tool-integration">Agent with Tool Integration</a></h3>
<pre><code class="language-python">class ToolEnabledAgent(dspy.Module):
    """Agent that can use various tools."""

    def __init__(self):
        super().__init__()
        self.tools = {
            'calculator': CalculatorTool(),
            'text_processor': TextProcessingTool(),
            'validator': ValidationTool()
        }
        self.decide_tool = dspy.Predict("task -&gt; tool_name, parameters")
        self.execute_tool = dspy.Predict("tool_name, parameters -&gt; result")

    def forward(self, task):
        # Decide which tool to use
        decision = self.decide_tool(task=task)

        if decision.tool_name in self.tools:
            # Execute tool
            tool = self.tools[decision.tool_name]
            if hasattr(tool, decision.parameters.split('.')[0]):
                result = getattr(tool, decision.parameters.split('.')[0])(
                    task
                )
            else:
                result = tool.calculate(task)  # Default for calculator
        else:
            result = f"Unknown tool: {decision.tool_name}"

        return dspy.Prediction(
            task=task,
            tool_used=decision.tool_name,
            result=result
        )
</code></pre>
<h2 id="best-practices-for-adapters"><a class="header" href="#best-practices-for-adapters">Best Practices for Adapters</a></h2>
<h3 id="1-error-handling"><a class="header" href="#1-error-handling">1. Error Handling</a></h3>
<pre><code class="language-python">class ResilientAdapter(dspy.Adapter):
    def __init__(self):
        super().__init__()
        self.max_retries = 3
        self.retry_delay = 1

    def call_with_retry(self, func, *args, **kwargs):
        """Call function with retry logic."""
        for attempt in range(self.max_retries):
            try:
                return func(*args, **kwargs)
            except Exception as e:
                if attempt == self.max_retries - 1:
                    raise e
                time.sleep(self.retry_delay * (2 ** attempt))
</code></pre>
<h3 id="2-connection-pooling"><a class="header" href="#2-connection-pooling">2. Connection Pooling</a></h3>
<pre><code class="language-python">import threading
from queue import Queue

class ConnectionPool:
    def __init__(self, create_connection, max_size=10):
        self.create_connection = create_connection
        self.max_size = max_size
        self.pool = Queue(maxsize=max_size)
        self.lock = threading.Lock()

    def get_connection(self):
        if not self.pool.empty():
            return self.pool.get()
        else:
            return self.create_connection()

    def return_connection(self, connection):
        if not self.pool.full():
            self.pool.put(connection)
</code></pre>
<h3 id="3-configuration-management"><a class="header" href="#3-configuration-management">3. Configuration Management</a></h3>
<pre><code class="language-python">class ConfigurableAdapter(dspy.Adapter):
    def __init__(self, config_file=None):
        super().__init__()
        self.config = self.load_config(config_file)

    def load_config(self, config_file):
        """Load configuration from file."""
        if config_file and os.path.exists(config_file):
            with open(config_file, 'r') as f:
                return json.load(f)
        return {}

    def get_config(self, key, default=None):
        """Get configuration value."""
        return self.config.get(key, default)
</code></pre>
<h2 id="testing-adapters"><a class="header" href="#testing-adapters">Testing Adapters</a></h2>
<h3 id="unit-testing"><a class="header" href="#unit-testing">Unit Testing</a></h3>
<pre><code class="language-python">import unittest
from unittest.mock import Mock, patch

class TestCalculatorTool(unittest.TestCase):
    def setUp(self):
        self.calculator = CalculatorTool()

    def test_basic_addition(self):
        result = self.calculator.calculate("2 + 3")
        self.assertEqual(result, 5)

    def test_invalid_expression(self):
        with self.assertRaises(ValueError):
            self.calculator.calculate("2 + three")

    def test_division_by_zero(self):
        with self.assertRaises(ZeroDivisionError):
            self.calculator.calculate("5 / 0")
</code></pre>
<h3 id="integration-testing"><a class="header" href="#integration-testing">Integration Testing</a></h3>
<pre><code class="language-python">class TestAPIAdapter(unittest.TestCase):
    def setUp(self):
        self.adapter = APIAdapter("https://api.example.com")
        self.session_mock = Mock()

    @patch('requests.Session')
    def test_get_request(self, mock_session):
        mock_session.return_value.get.return_value.json.return_value = {"status": "ok"}
        result = self.adapter.get("test")
        self.assertEqual(result, {"status": "ok"})
</code></pre>
<h2 id="key-takeaways"><a class="header" href="#key-takeaways">Key Takeaways</a></h2>
<ol>
<li><strong>Adapters bridge</strong> DSPy with external systems</li>
<li><strong>Custom adapters</strong> enable domain-specific integrations</li>
<li><strong>Tools provide</strong> specialized functionality</li>
<li><strong>Error handling</strong> is essential for robust adapters</li>
<li><strong>Testing ensures</strong> adapter reliability</li>
<li><strong>Configuration</strong> makes adapters flexible</li>
</ol>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<p>In the next section, we’ll explore <strong>Caching and Performance</strong> techniques to build high-performance DSPy applications that can scale effectively.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../07-advanced-topics/00-chapter-intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../07-advanced-topics/02-caching-performance.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../07-advanced-topics/00-chapter-intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../07-advanced-topics/02-caching-performance.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>


        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace-2a3cd908.js"></script>
        <script src="../mode-rust-2c9d5c9a.js"></script>
        <script src="../editor-16ca416c.js"></script>
        <script src="../theme-dawn-4493f9c8.js"></script>
        <script src="../theme-tomorrow_night-9dbe62a9.js"></script>

        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
