<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What is DSPy? | Chapter 1 | DSPy: The Comprehensive Guide</title>
    <meta name="description"
        content="Learn what DSPy is - a framework for programming foundation models. Understand the problems with traditional prompting and how DSPy solves them.">
    <link rel="stylesheet" href="../../assets/css/style.css?v=2">
    <link rel="stylesheet" href="../../assets/css/chapter.css?v=8">
    <link rel="stylesheet" href="../../assets/css/content.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="chapter-page">
    <header>
        <div class="logo">
            <a href="../../index.html">
                <img src="../../src/assets/logos/logo.png" alt="DSPy Ebook Logo">
                <span>DSPy Ebook</span>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#chapters">Chapters</a></li>
                <li><a href="https://github.com/dustinober1/Ebook_DSPy" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <div class="chapter-layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Chapter 1</h2>
                <span class="sidebar-subtitle">DSPy Fundamentals</span>
            </div>
            <nav class="sidebar-nav">
                <ul class="section-list" id="section-list">
                    <li class="section-item viewed" data-section="intro">
                        <a href="index.html">
                            <span class="section-number">1</span>
                            <span class="section-title">Chapter Overview</span>
                        </a>
                    </li>
                    <li class="section-item active" data-section="what-is-dspy">
                        <a href="what-is-dspy.html">
                            <span class="section-number">2</span>
                            <span class="section-title">What is DSPy?</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="programming-vs-prompting">
                        <a href="programming-vs-prompting.html">
                            <span class="section-number">3</span>
                            <span class="section-title">Programming vs. Prompting</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="first-program">
                        <a href="first-program.html">
                            <span class="section-number">4</span>
                            <span class="section-title">Your First DSPy Program</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="language-models">
                        <a href="language-models.html">
                            <span class="section-number">5</span>
                            <span class="section-title">Language Models</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="exercises">
                        <a href="exercises.html">
                            <span class="section-number">6</span>
                            <span class="section-title">Exercises</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="../chapter-02/index.html" class="next-chapter-btn">
                    Next: Chapter 02 ‚Üí
                </a>
            </div>
        </aside>

        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle Sidebar">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <main class="chapter-content">
            <div class="reading-progress" id="reading-progress">
                <div class="progress-bar"></div>
            </div>

            <section class="chapter-hero">
                <div class="chapter-hero-content is-visible fade-in-up">
                    <span class="chapter-label">Chapter 1 ¬∑ Section 2</span>
                    <h1 class="chapter-title">What is DSPy?</h1>
                    <p class="chapter-description">DSPy is a framework for programming‚Äînot prompting‚Äîfoundation models
                        like GPT-4, Claude, and others.</p>
                    <div class="chapter-meta">
                        <span class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            ~15 min read
                        </span>
                    </div>
                </div>
            </section>

            <div class="content-wrapper">
                <article class="content-article" id="content-article">
                    <section class="content-section is-visible" id="what-is-dspy" data-section="what-is-dspy">
                        <div class="markdown-content" id="what-is-dspy-content">

                            <!-- Definition -->
                            <div class="content-block">
                                <div class="definition-box">
                                    <h2>DSPy: Declarative Self-improving Language Programs</h2>
                                    <p>DSPy provides a systematic way to build LM-based applications that are
                                        <strong>modular</strong>, <strong>composable</strong>, and <strong>automatically
                                            optimizable</strong>.
                                    </p>
                                </div>
                            </div>

                            <!-- Historical Context -->
                            <div class="content-block">
                                <h2>üìú Historical Context: The Demonstrate-Search-Predict Paper</h2>

                                <p>DSPy originated from the groundbreaking research paper
                                    <strong>"Demonstrate-Search-Predict: A Paradigm for Solving Complex, Multi-Hop
                                        Reasoning Tasks with Large Language Models"</strong> by Omar Khattab and
                                    colleagues at Stanford University.
                                </p>

                                <p>The paper demonstrated that complex reasoning tasks could be decomposed into three
                                    systematic stages:</p>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üéØ</span>
                                        <div class="section-content">
                                            <h4>DEMONSTRATE</h4>
                                            <p>Learning from examples and demonstrations</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üîç</span>
                                        <div class="section-content">
                                            <h4>SEARCH</h4>
                                            <p>Retrieving and synthesizing information from multiple sources</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üí°</span>
                                        <div class="section-content">
                                            <h4>PREDICT</h4>
                                            <p>Generating accurate outputs based on gathered evidence</p>
                                        </div>
                                    </div>
                                </div>

                                <p>This three-stage approach showed that by treating language model tasks as
                                    <strong>structured programs</strong> rather than mere prompts, we could achieve:
                                </p>

                                <ul class="benefit-list">
                                    <li>‚úÖ Better compositional generalization</li>
                                    <li>‚úÖ More reliable multi-hop reasoning</li>
                                    <li>‚úÖ Systematic optimization through weak supervision</li>
                                    <li>‚úÖ Zero-shot transfer to new tasks</li>
                                </ul>
                            </div>

                            <!-- The Problem -->
                            <div class="content-block">
                                <h2>‚ùå The Problem: Manual Prompt Engineering</h2>

                                <p>Before understanding DSPy, let's look at the traditional approach to working with
                                    LLMs.</p>

                                <h3>Traditional Prompt Engineering</h3>
                                <p>When you want an LLM to perform a task, you typically write a prompt:</p>

                                <div class="command-box">
                                    <pre><code class="language-python">import openai

# Manual prompt for question answering
prompt = """
You are a knowledgeable assistant. Answer the following question accurately and concisely.

Question: What is the capital of France?

Provide your answer in a single sentence.
"""

response = openai.chat.completions.create(
    model="gpt-4",
    messages=[{"role": "user", "content": prompt}]
)

print(response.choices[0].message.content)</code></pre>
                                </div>

                                <p>This works for simple cases, but scaling this approach leads to significant problems.
                                </p>
                            </div>

                            <!-- Problems with Prompting -->
                            <div class="content-block">
                                <h2>Problems with Manual Prompting</h2>

                                <div class="problem-cards">
                                    <div class="problem-card">
                                        <div class="problem-header">
                                            <span class="problem-number">1</span>
                                            <h4>Brittle and Hard to Maintain</h4>
                                        </div>
                                        <p>Small changes can dramatically affect results. There's no systematic way to
                                            know which prompt version is best.</p>
                                        <div class="command-box">
                                            <pre><code class="language-python"># Prompt for sentiment analysis
sentiment_prompt = """
Analyze the sentiment of this text and classify it as positive, negative, or neutral.
Be careful to consider context and sarcasm.
Respond with only the sentiment label.

Text: {text}
Sentiment:
"""</code></pre>
                                        </div>
                                        <p class="problem-issues">What if the model doesn't follow instructions? How do
                                            you handle edge cases?</p>
                                    </div>

                                    <div class="problem-card">
                                        <div class="problem-header">
                                            <span class="problem-number">2</span>
                                            <h4>Doesn't Compose Well</h4>
                                        </div>
                                        <p>Chaining multiple steps is manual and error-prone:</p>
                                        <div class="command-box">
                                            <pre><code class="language-python"># Step 1: Summarize
summary_prompt = f"Summarize this: {document}"
summary = call_llm(summary_prompt)

# Step 2: Extract entities
entity_prompt = f"Extract entities from: {summary}"
entities = call_llm(entity_prompt)

# Step 3: Classify
classification_prompt = f"Classify these entities: {entities}"
result = call_llm(classification_prompt)</code></pre>
                                        </div>
                                        <p class="problem-issues">Error propagation, no systematic optimization,
                                            debugging nightmare</p>
                                    </div>

                                    <div class="problem-card">
                                        <div class="problem-header">
                                            <span class="problem-number">3</span>
                                            <h4>No Systematic Optimization</h4>
                                        </div>
                                        <p>The only way to improve is trial and error:</p>
                                        <ul>
                                            <li>Try different phrasings manually</li>
                                            <li>Add examples by hand</li>
                                            <li>Test each variation</li>
                                            <li>No guarantee of improvement</li>
                                        </ul>
                                        <p class="problem-issues">This is like training a neural network by manually
                                            adjusting weights!</p>
                                    </div>
                                </div>
                            </div>

                            <!-- The Solution -->
                            <div class="content-block">
                                <h2>‚úÖ The Solution: DSPy</h2>

                                <p>DSPy changes the game by letting you <strong>program</strong> with language models
                                    instead of <strong>prompting</strong> them.</p>

                                <div class="key-idea-box">
                                    <h3>Key Idea: Separate What from How</h3>
                                    <p>Instead of telling the model <em>how</em> to solve a task (via prompts), you tell
                                        it <em>what</em> to do (via signatures), and DSPy figures out <em>how</em>.</p>
                                </div>

                                <div class="comparison-container">
                                    <div class="comparison-side traditional">
                                        <h4>Traditional prompting (imperative)</h4>
                                        <div class="command-box">
                                            <pre><code class="language-python">prompt = "You are an assistant. Answer questions. Question: {q}"</code></pre>
                                        </div>
                                    </div>
                                    <div class="comparison-side dspy">
                                        <h4>DSPy (declarative)</h4>
                                        <div class="command-box">
                                            <pre><code class="language-python">class QuestionAnswer(dspy.Signature):
    """Answer questions accurately."""
    question: str = dspy.InputField()
    answer: str = dspy.OutputField()</code></pre>
                                        </div>
                                    </div>
                                </div>

                                <p>DSPy automatically creates the prompts for you!</p>
                            </div>

                            <!-- What DSPy Provides -->
                            <div class="content-block">
                                <h2>What DSPy Provides</h2>

                                <div class="feature-grid">
                                    <div class="feature-card">
                                        <div class="feature-icon">üìù</div>
                                        <h4>1. Signatures</h4>
                                        <p>Task specifications that define <em>what</em> a task does, not <em>how</em>:
                                        </p>
                                        <div class="command-box">
                                            <pre><code class="language-python">class Summarize(dspy.Signature):
    """Summarize the given text."""
    document: str = dspy.InputField()
    summary: str = dspy.OutputField(desc="concise summary in 2-3 sentences")</code></pre>
                                        </div>
                                        <p>Like a type signature in programming‚Äîspecifies inputs and outputs.</p>
                                    </div>

                                    <div class="feature-card">
                                        <div class="feature-icon">üß©</div>
                                        <h4>2. Modules</h4>
                                        <p>Reusable components that use signatures:</p>
                                        <div class="command-box">
                                            <pre><code class="language-python"># Create a summarization module
summarizer = dspy.Predict(Summarize)

# Use it
result = summarizer(document="Long text here...")
print(result.summary)</code></pre>
                                        </div>
                                        <p>Modules can be combined, extended, and optimized.</p>
                                    </div>

                                    <div class="feature-card">
                                        <div class="feature-icon">‚ö°</div>
                                        <h4>3. Optimizers</h4>
                                        <p>Automatically improve your programs:</p>
                                        <div class="command-box">
                                            <pre><code class="language-python"># Optimize automatically
from dspy.teleprompt import BootstrapFewShot

optimizer = BootstrapFewShot(metric=your_metric)
optimized_rag = optimizer.compile(RAGPipeline(), trainset=your_data)</code></pre>
                                        </div>
                                        <p>DSPy learns better prompts, examples, and module compositions!</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Core Concepts -->
                            <div class="content-block">
                                <h2>Core Concepts</h2>

                                <div class="concepts-grid">
                                    <div class="concept-item">
                                        <h4>Signatures</h4>
                                        <p>Think of signatures as function declarations for LM tasks:</p>
                                        <div class="command-box">
                                            <pre><code class="language-python"># Input -> Output specification
class TranslateToFrench(dspy.Signature):
    english_text: str = dspy.InputField()
    french_text: str = dspy.OutputField()</code></pre>
                                        </div>
                                    </div>

                                    <div class="concept-item">
                                        <h4>Modules</h4>
                                        <p>Pre-built and custom components:</p>
                                        <ul>
                                            <li><code>dspy.Predict</code> - Basic prediction</li>
                                            <li><code>dspy.ChainOfThought</code> - Step-by-step reasoning</li>
                                            <li><code>dspy.ReAct</code> - Agent-style reasoning with tools</li>
                                            <li><strong>Custom</strong> - Build your own!</li>
                                        </ul>
                                    </div>

                                    <div class="concept-item">
                                        <h4>Teleprompters (Optimizers)</h4>
                                        <p>Automatically improve your program:</p>
                                        <ul>
                                            <li><code>BootstrapFewShot</code> - Generate few-shot examples</li>
                                            <li><code>MIPRO</code> - Optimize instructions and demonstrations</li>
                                            <li><code>KNNFewShot</code> - Use similarity-based examples</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Why DSPy Matters -->
                            <div class="content-block">
                                <h2>Why DSPy Matters</h2>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üîß</span>
                                        <div class="section-content">
                                            <h4>Systematic Development</h4>
                                            <p>DSPy brings software engineering practices to LM applications:
                                                modularity, abstraction, reusability, and systematic testing.</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚ö°</span>
                                        <div class="section-content">
                                            <h4>Automatic Optimization</h4>
                                            <p>Instead of manually tweaking prompts, DSPy learns from your data,
                                                generates optimal prompts, and improves with more examples.</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üìà</span>
                                        <div class="section-content">
                                            <h4>Scalability</h4>
                                            <p>Build complex pipelines that chain multiple steps, handle errors
                                                gracefully, and scale to production.</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üìö</span>
                                        <div class="section-content">
                                            <h4>Research-Backed</h4>
                                            <p>Developed by Stanford NLP, published at NeurIPS, NAACL, and other top
                                                venues. Proven effectiveness across tasks.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- When to Use DSPy -->
                            <div class="content-block">
                                <h2>When to Use DSPy</h2>

                                <div class="use-case-grid">
                                    <div class="use-case ideal">
                                        <h4>‚úÖ DSPy is ideal when you:</h4>
                                        <ul>
                                            <li>Build complex LM pipelines with multiple steps</li>
                                            <li>Want to systematically improve performance</li>
                                            <li>Need modularity and reusability</li>
                                            <li>Have data for optimization</li>
                                            <li>Value maintainability over quick hacks</li>
                                        </ul>
                                    </div>
                                    <div class="use-case alternative">
                                        <h4>‚ùå Consider alternatives when you:</h4>
                                        <ul>
                                            <li>Need a simple one-off query</li>
                                            <li>Have zero data for optimization</li>
                                            <li>Need very specific prompt control</li>
                                            <li>Require guaranteed output formats</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- The DSPy Philosophy -->
                            <div class="content-block">
                                <h2>The DSPy Philosophy</h2>

                                <div class="chapter-sections-list no-icons">
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <h4>Programming > Prompting</h4>
                                            <p><strong>Traditional:</strong> Human writes prompt ‚Üí LM executes ‚Üí Human
                                                tweaks ‚Üí Repeat</p>
                                            <p><strong>DSPy:</strong> Human defines task ‚Üí DSPy optimizes ‚Üí LM executes
                                                ‚Üí System improves</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <h4>Declarative > Imperative</h4>
                                            <p><strong>Imperative:</strong> "Here's how to answer: First read the
                                                context, then..."</p>
                                            <p><strong>Declarative:</strong> "Given context and question, produce an
                                                answer"</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <h4>Optimizable > Static</h4>
                                            <p><strong>Static:</strong> Fixed prompts that require manual updates</p>
                                            <p><strong>Optimizable:</strong> Programs that improve automatically from
                                                data</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Summary -->
                            <div class="content-block summary-block">
                                <h2>üìù Summary</h2>

                                <div class="summary-content">
                                    <p><strong>DSPy is:</strong></p>
                                    <ul>
                                        <li>A framework for programming foundation models</li>
                                        <li>Based on signatures (task specs) and modules (components)</li>
                                        <li>Designed for composition and optimization</li>
                                        <li>Research-backed and production-ready</li>
                                    </ul>

                                    <p><strong>DSPy lets you:</strong></p>
                                    <ul>
                                        <li>Define <em>what</em> tasks do, not <em>how</em></li>
                                        <li>Build modular, composable pipelines</li>
                                        <li>Automatically optimize from data</li>
                                        <li>Scale to complex applications</li>
                                    </ul>

                                    <p><strong>Key Advantage:</strong> Instead of manually engineering prompts, you
                                        program at a higher level and let DSPy handle the prompt optimization
                                        automatically.</p>
                                </div>
                            </div>

                            <!-- Additional Resources -->
                            <div class="content-block">
                                <h2>üìö Additional Resources</h2>

                                <div class="resources-grid">
                                    <a href="https://arxiv.org/abs/2310.03714" target="_blank" class="resource-card">
                                        <span class="resource-icon">üìÑ</span>
                                        <h4>DSPy Paper</h4>
                                        <p>Compiling Declarative Language Model Calls into Self-Improving Pipelines</p>
                                    </a>
                                    <a href="https://dspy.ai" target="_blank" class="resource-card">
                                        <span class="resource-icon">üåê</span>
                                        <h4>DSPy Website</h4>
                                        <p>Official documentation and tutorials</p>
                                    </a>
                                    <a href="https://github.com/stanfordnlp/dspy" target="_blank" class="resource-card">
                                        <span class="resource-icon">üíª</span>
                                        <h4>GitHub Repository</h4>
                                        <p>Source code and examples</p>
                                    </a>
                                </div>
                            </div>

                            <!-- Continue -->
                            <div class="content-block">
                                <div class="continue-btn-container">
                                    <a href="programming-vs-prompting.html" class="continue-btn">
                                        <span>Continue to Programming vs. Prompting</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M5 12h14M12 5l7 7-7 7" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                </article>
            </div>
        </main>
    </div>

    <footer>
        <p>&copy; 2025 DSPy Ebook. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="../../assets/js/main.js?v=1"></script>
    <script src="../../assets/js/chapter_v2.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.initChapter) {
                window.initChapter({});
            }
            setTimeout(() => {
                if (window.Prism) window.Prism.highlightAll();
            }, 100);
        });
    </script>
</body>

</html>