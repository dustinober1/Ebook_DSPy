<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programming vs. Prompting | Chapter 1 | DSPy: The Comprehensive Guide</title>
    <meta name="description"
        content="Understand the paradigm shift from manual prompt engineering to programming with DSPy. Learn the DEMONSTRATE-SEARCH-PREDICT architecture.">
    <link rel="stylesheet" href="../../assets/css/style.css?v=2">
    <link rel="stylesheet" href="../../assets/css/chapter.css?v=8">
    <link rel="stylesheet" href="../../assets/css/content.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="chapter-page">
    <header>
        <div class="logo">
            <a href="../../index.html">
                <img src="../../src/assets/logos/logo.png" alt="DSPy Ebook Logo">
                <span>DSPy Ebook</span>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#chapters">Chapters</a></li>
                <li><a href="https://github.com/dustinober1/Ebook_DSPy" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <div class="chapter-layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Chapter 1</h2>
                <span class="sidebar-subtitle">DSPy Fundamentals</span>
            </div>
            <nav class="sidebar-nav">
                <ul class="section-list" id="section-list">
                    <li class="section-item viewed" data-section="intro">
                        <a href="index.html">
                            <span class="section-number">1</span>
                            <span class="section-title">Chapter Overview</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="what-is-dspy">
                        <a href="what-is-dspy.html">
                            <span class="section-number">2</span>
                            <span class="section-title">What is DSPy?</span>
                        </a>
                    </li>
                    <li class="section-item active" data-section="programming-vs-prompting">
                        <a href="programming-vs-prompting.html">
                            <span class="section-number">3</span>
                            <span class="section-title">Programming vs. Prompting</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="first-program">
                        <a href="first-program.html">
                            <span class="section-number">4</span>
                            <span class="section-title">Your First DSPy Program</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="language-models">
                        <a href="language-models.html">
                            <span class="section-number">5</span>
                            <span class="section-title">Language Models</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="exercises">
                        <a href="exercises.html">
                            <span class="section-number">6</span>
                            <span class="section-title">Exercises</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="../chapter-02/index.html" class="next-chapter-btn">
                    Next: Chapter 02 ‚Üí
                </a>
            </div>
        </aside>

        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle Sidebar">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <main class="chapter-content">
            <div class="reading-progress" id="reading-progress">
                <div class="progress-bar"></div>
            </div>

            <section class="chapter-hero">
                <div class="chapter-hero-content is-visible fade-in-up">
                    <span class="chapter-label">Chapter 1 ¬∑ Section 3</span>
                    <h1 class="chapter-title">Programming vs. Prompting</h1>
                    <p class="chapter-description">The shift from prompting to programming language models is the core
                        innovation of DSPy.</p>
                    <div class="chapter-meta">
                        <span class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            ~20 min read
                        </span>
                    </div>
                </div>
            </section>

            <div class="content-wrapper">
                <article class="content-article" id="content-article">
                    <section class="content-section is-visible" id="programming-vs-prompting"
                        data-section="programming-vs-prompting">
                        <div class="markdown-content" id="programming-vs-prompting-content">

                            <!-- Three-Stage Architecture -->
                            <div class="content-block">
                                <h2>üèóÔ∏è The Three-Stage Architecture: DEMONSTRATE-SEARCH-PREDICT</h2>

                                <p>At the heart of DSPy lies the three-stage architecture that originated from the
                                    Demonstrate-Search-Predict research paper. This architecture provides a systematic
                                    way to structure complex reasoning tasks.</p>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üéØ</span>
                                        <div class="section-content">
                                            <h4>DEMONSTRATE</h4>
                                            <p>Learn from examples and build task understanding</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Define what the task does
class TaskSignature(dspy.Signature):
    input_field: str = dspy.InputField()
    output_field: str = dspy.OutputField()

# Examples provide demonstrations
trainset = [
    dspy.Example(input_field="Example 1", output_field="Output 1"),
    dspy.Example(input_field="Example 2", output_field="Output 2"),
]</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="chapter-section-item">
                                        <span class="section-icon">üîç</span>
                                        <div class="section-content">
                                            <h4>SEARCH</h4>
                                            <p>Retrieve and synthesize information from multiple sources</p>
                                            <div class="command-box">
                                                <pre><code class="language-python">class SearchModule(dspy.Module):
    def __init__(self):
        self.retrieve = dspy.Retrieve(k=5)
        self.select = dspy.Predict("documents, query -> relevant_docs")

    def forward(self, query):
        docs = self.retrieve(query).passages
        return self.select(documents=docs, query=query)</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="chapter-section-item">
                                        <span class="section-icon">üí°</span>
                                        <div class="section-content">
                                            <h4>PREDICT</h4>
                                            <p>Generate final outputs based on gathered evidence</p>
                                            <div class="command-box">
                                                <pre><code class="language-python">class PredictModule(dspy.Module):
    def __init__(self):
        self.generate = dspy.ChainOfThought("context, query -> answer")

    def forward(self, context, query):
        result = self.generate(context=context, query=query)
        return result.answer</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="benefit-list-box">
                                    <h4>Benefits of Three-Stage Architecture</h4>
                                    <ul>
                                        <li><strong>Composability</strong>: Each stage can be optimized independently
                                        </li>
                                        <li><strong>Transparency</strong>: Clear separation of concerns</li>
                                        <li><strong>Flexibility</strong>: Different strategies can be swapped</li>
                                        <li><strong>Debugging</strong>: Issues can be isolated to specific stages</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Key Differences -->
                            <div class="content-block">
                                <h2>üîÑ Key Differences</h2>

                                <div class="difference-grid">
                                    <div class="difference-item">
                                        <h4>Imperative vs. Declarative</h4>
                                        <div class="comparison-container">
                                            <div class="comparison-side traditional">
                                                <h5>Prompting (Imperative)</h5>
                                                <div class="command-box">
                                                    <pre><code class="language-python"># You tell the model HOW to do it
prompt = """
First, read the context carefully.
Then, identify the key information.
Next, formulate an answer.
Finally, provide your response in one sentence.

Context: {context}
Question: {question}
"""</code></pre>
                                                </div>
                                            </div>
                                            <div class="comparison-side dspy">
                                                <h5>DSPy (Declarative)</h5>
                                                <div class="command-box">
                                                    <pre><code class="language-python"># You tell the model WHAT to do
class AnswerQuestion(dspy.Signature):
    """Answer questions based on context."""
    context: str = dspy.InputField()
    question: str = dspy.InputField()
    answer: str = dspy.OutputField(desc="concise answer")</code></pre>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="difference-note">DSPy figures out the HOW!</p>
                                    </div>

                                    <div class="difference-item">
                                        <h4>Manual vs. Automatic</h4>
                                        <div class="comparison-container">
                                            <div class="comparison-side traditional">
                                                <h5>Prompting: Manual optimization</h5>
                                                <div class="command-box">
                                                    <pre><code class="language-python"># Try different prompts manually
prompts = [
    "Answer: {question}",
    "Provide a clear answer to: {question}",
    "Question: {question}\nAnswer:",
]

for prompt in prompts:
    result = test(prompt)  # Manual testing</code></pre>
                                                </div>
                                            </div>
                                            <div class="comparison-side dspy">
                                                <h5>DSPy: Automatic optimization</h5>
                                                <div class="command-box">
                                                    <pre><code class="language-python"># Define your program
program = dspy.ChainOfThought(AnswerQuestion)

# Optimize automatically
optimizer = BootstrapFewShot(metric=accuracy)
optimized_program = optimizer.compile(program, trainset=data)</code></pre>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="difference-item">
                                        <h4>Static vs. Composable</h4>
                                        <div class="comparison-container">
                                            <div class="comparison-side traditional">
                                                <h5>Prompting: Static, monolithic</h5>
                                                <div class="command-box">
                                                    <pre><code class="language-python"># One big prompt for the entire task
mega_prompt = """
Step 1: Extract entities from the text
Step 2: Classify each entity
Step 3: Summarize the entities
Step 4: Generate final output

Text: {text}
"""</code></pre>
                                                </div>
                                            </div>
                                            <div class="comparison-side dspy">
                                                <h5>DSPy: Modular, composable</h5>
                                                <div class="command-box">
                                                    <pre><code class="language-python"># Separate, reusable components
class Pipeline(dspy.Module):
    def __init__(self):
        self.extract = dspy.Predict("text -> entities")
        self.classify = dspy.Predict("entities -> categories")
        self.summarize = dspy.Predict("categories -> summary")

    def forward(self, text):
        entities = self.extract(text=text).entities
        categories = self.classify(entities=entities).categories
        return self.summarize(categories=categories).summary</code></pre>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Benefits of Programming Paradigm -->
                            <div class="content-block">
                                <h2>‚úÖ Benefits of the Programming Paradigm</h2>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üß©</span>
                                        <div class="section-content">
                                            <h4>Modularity</h4>
                                            <p>Break complex tasks into simple components:</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Each component is independent and testable
extract = dspy.Predict("text -> entities")
classify = dspy.Predict("entities -> categories")
generate = dspy.Predict("categories -> summary")</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚ôªÔ∏è</span>
                                        <div class="section-content">
                                            <h4>Reusability</h4>
                                            <p>Create once, use everywhere:</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Define a reusable QA signature
class QA(dspy.Signature):
    context: str = dspy.InputField()
    question: str = dspy.InputField()
    answer: str = dspy.OutputField()

# Use in different contexts
basic_qa = dspy.Predict(QA)
reasoning_qa = dspy.ChainOfThought(QA)</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="chapter-section-item">
                                        <span class="section-icon">üß™</span>
                                        <div class="section-content">
                                            <h4>Testability</h4>
                                            <p>Test components independently:</p>
                                            <div class="command-box">
                                                <pre><code class="language-python">def test_entity_extraction():
    extractor = dspy.Predict("text -> entities")
    result = extractor(text="Apple released iPhone in 2007")
    assert "Apple" in result.entities
    assert "iPhone" in result.entities</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚ö°</span>
                                        <div class="section-content">
                                            <h4>Automatic Optimization</h4>
                                            <p>Improve systematically:</p>
                                            <div class="command-box">
                                                <pre><code class="language-python">def accuracy_metric(example, prediction):
    return prediction.answer == example.answer

optimizer = BootstrapFewShot(metric=accuracy_metric)
optimized = optimizer.compile(MyProgram(), trainset=data)</code></pre>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="chapter-section-item">
                                        <span class="section-icon">üîß</span>
                                        <div class="section-content">
                                            <h4>Maintainability</h4>
                                            <p>Changes are localized and manageable:</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Change one signature
class ImprovedQA(dspy.Signature):
    """Better QA with sources."""
    context: str = dspy.InputField()
    question: str = dspy.InputField()
    answer: str = dspy.OutputField()
    sources: list[str] = dspy.OutputField()  # Added field

# All modules using this signature adapt automatically</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Summary Table -->
                            <div class="content-block">
                                <h2>üìä Paradigm Comparison</h2>

                                <div class="comparison-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Aspect</th>
                                                <th>Prompting</th>
                                                <th>Programming (DSPy)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Approach</td>
                                                <td>Imperative ("how")</td>
                                                <td>Declarative ("what")</td>
                                            </tr>
                                            <tr>
                                                <td>Optimization</td>
                                                <td>Manual trial & error</td>
                                                <td>Automatic from data</td>
                                            </tr>
                                            <tr>
                                                <td>Composition</td>
                                                <td>Difficult</td>
                                                <td>Natural</td>
                                            </tr>
                                            <tr>
                                                <td>Maintainability</td>
                                                <td>Poor for complex</td>
                                                <td>Good</td>
                                            </tr>
                                            <tr>
                                                <td>Scalability</td>
                                                <td>Struggles</td>
                                                <td>Excels</td>
                                            </tr>
                                            <tr>
                                                <td>Best for</td>
                                                <td>Simple, one-off tasks</td>
                                                <td>Complex, evolving systems</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Analogy -->
                            <div class="content-block">
                                <h2>üí° Analogy: Assembly vs. High-Level Languages</h2>

                                <p>The prompting ‚Üí programming shift is like assembly ‚Üí high-level languages:</p>

                                <div class="analogy-grid">
                                    <div class="analogy-item">
                                        <h4>Assembly (Manual Prompting)</h4>
                                        <div class="command-box">
                                            <pre><code class="language-python">; Direct, detailed control
MOV AX, 5
ADD AX, 3
MOV result, AX</code></pre>
                                        </div>
                                        <ul>
                                            <li>Maximum control</li>
                                            <li>Tedious for complex tasks</li>
                                            <li>Hard to maintain</li>
                                        </ul>
                                    </div>
                                    <div class="analogy-item">
                                        <h4>High-Level Language (DSPy)</h4>
                                        <div class="command-box">
                                            <pre><code class="language-python"># Abstract, declarative
result = 5 + 3</code></pre>
                                        </div>
                                        <ul>
                                            <li>Easier to write and understand</li>
                                            <li>Better for complex systems</li>
                                            <li>Compiler handles optimization</li>
                                        </ul>
                                    </div>
                                </div>

                                <p>Similarly, DSPy abstracts away prompt engineering!</p>
                            </div>

                            <!-- Key Takeaways -->
                            <div class="content-block summary-block">
                                <h2>üìù Key Takeaways</h2>

                                <div class="chapter-sections-list no-icons">
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Prompting</strong> = Writing instructions for the model</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Programming</strong> = Defining specifications for tasks</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>DSPy generates prompts</strong> automatically from signatures</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Composition and optimization</strong> come naturally with
                                                programming</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Invest in learning DSPy</strong> for long-term productivity</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Continue -->
                            <div class="content-block">
                                <div class="continue-btn-container">
                                    <a href="first-program.html" class="continue-btn">
                                        <span>Continue to Your First DSPy Program</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M5 12h14M12 5l7 7-7 7" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                </article>
            </div>
        </main>
    </div>

    <footer>
        <p>&copy; 2025 DSPy Ebook. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="../../assets/js/main.js?v=1"></script>
    <script src="../../assets/js/chapter_v2.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.initChapter) {
                window.initChapter({});
            }
            setTimeout(() => {
                if (window.Prism) window.Prism.highlightAll();
            }, 100);
        });
    </script>
</body>

</html>