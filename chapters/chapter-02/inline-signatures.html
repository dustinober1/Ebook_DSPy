<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inline Signatures | Chapter 2 | DSPy: The Comprehensive Guide</title>
    <meta name="description"
        content="Learn DSPy inline signatures - the quick, string-based syntax for rapid prototyping and simple tasks.">
    <link rel="stylesheet" href="../../assets/css/style.css?v=2">
    <link rel="stylesheet" href="../../assets/css/chapter.css?v=8">
    <link rel="stylesheet" href="../../assets/css/content.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="chapter-page">
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <header>
        <div class="logo">
            <a href="../../index.html">
                <img src="../../src/assets/logos/logo.png" alt="DSPy Ebook Logo">
                <span>DSPy Ebook</span>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#chapters">Chapters</a></li>
                <li><a href="https://github.com/dustinober1/Ebook_DSPy" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <div class="chapter-layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Chapter 2</h2>
                <span class="sidebar-subtitle">Signatures</span>
            </div>
            <nav class="sidebar-nav">
                <ul class="section-list" id="section-list">
                    <li class="section-item viewed" data-section="intro">
                        <a href="index.html">
                            <span class="section-number">1</span>
                            <span class="section-title">Chapter Overview</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="what-are-signatures">
                        <a href="what-are-signatures.html">
                            <span class="section-number">2</span>
                            <span class="section-title">What Are Signatures?</span>
                        </a>
                    </li>
                    <li class="section-item active" data-section="inline-signatures">
                        <a href="inline-signatures.html">
                            <span class="section-number">3</span>
                            <span class="section-title">Inline Signatures</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="class-signatures">
                        <a href="class-signatures.html">
                            <span class="section-number">4</span>
                            <span class="section-title">Class-Based Signatures</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="field-types">
                        <a href="field-types.html">
                            <span class="section-number">5</span>
                            <span class="section-title">Field Types & Descriptions</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="exercises">
                        <a href="exercises.html">
                            <span class="section-number">6</span>
                            <span class="section-title">Exercises</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="solutions">
                        <a href="solutions.html">
                            <span class="section-number">7</span>
                            <span class="section-title">Solutions</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="../chapter-03/index.html" class="next-chapter-btn">
                    Next: Chapter 03 ‚Üí
                </a>
            </div>
        </aside>

        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle Sidebar">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <main class="chapter-content" id="main-content">
            <div class="reading-progress" id="reading-progress">
                <div class="progress-bar"></div>
            </div>

            <section class="chapter-hero">
                <div class="chapter-hero-content is-visible fade-in-up">
                    <span class="chapter-label">Chapter 2 ¬∑ Section 3</span>
                    <h1 class="chapter-title">Inline Signatures</h1>
                    <p class="chapter-description">The quick, string-based syntax for rapid prototyping and simple
                        tasks.</p>
                    <div class="chapter-meta">
                        <span class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            ~10 min read
                        </span>
                    </div>
                </div>
            </section>

            <div class="content-wrapper">
                <article class="content-article" id="content-article">
                    <section class="content-section is-visible" id="inline-signatures" data-section="inline-signatures">
                        <div class="markdown-content" id="inline-signatures-content">

                            <!-- Introduction -->
                            <div class="content-block">
                                <h2>‚ö° What Are Inline Signatures?</h2>

                                <p>Inline signatures are a <strong>shorthand notation</strong> for defining simple
                                    signatures using a string format. They're perfect for quick experiments and simple
                                    tasks.</p>

                                <div class="command-box">
                                    <pre><code class="language-python">import dspy

# Inline signature: input -> output
qa = dspy.Predict("question -> answer")

# Use it immediately
result = qa(question="What is the capital of France?")
print(result.answer)  # Paris</code></pre>
                                </div>
                            </div>

                            <!-- Basic Syntax -->
                            <div class="content-block">
                                <h2>üìê Basic Syntax</h2>

                                <p>The inline signature syntax follows this pattern:</p>

                                <div class="command-box">
                                    <pre><code class="language-python">"input_field1, input_field2 -> output_field1, output_field2"</code></pre>
                                </div>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üì•</span>
                                        <div class="section-content">
                                            <h4>Left Side: Inputs</h4>
                                            <p>Field names before the arrow are input fields. Separate multiple inputs
                                                with commas.</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚û°Ô∏è</span>
                                        <div class="section-content">
                                            <h4>Arrow: Separator</h4>
                                            <p>The <code>-></code> arrow separates inputs from outputs.</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üì§</span>
                                        <div class="section-content">
                                            <h4>Right Side: Outputs</h4>
                                            <p>Field names after the arrow are output fields. The LM will generate
                                                these.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Examples -->
                            <div class="content-block">
                                <h2>üí° Examples</h2>

                                <h3>Single Input, Single Output</h3>
                                <div class="command-box">
                                    <pre><code class="language-python"># Question answering
qa = dspy.Predict("question -> answer")

# Summarization
summarize = dspy.Predict("document -> summary")

# Translation
translate = dspy.Predict("text -> french_translation")</code></pre>
                                </div>

                                <h3>Multiple Inputs</h3>
                                <div class="command-box">
                                    <pre><code class="language-python"># Context-based QA
qa = dspy.Predict("context, question -> answer")

# Call it with multiple inputs
result = qa(
    context="Paris is the capital of France.",
    question="What is the capital of France?"
)
print(result.answer)  # Paris</code></pre>
                                </div>

                                <h3>Multiple Outputs</h3>
                                <div class="command-box">
                                    <pre><code class="language-python"># Sentiment with confidence
sentiment = dspy.Predict("text -> sentiment, confidence")

result = sentiment(text="I love this product!")
print(result.sentiment)    # positive
print(result.confidence)   # high</code></pre>
                                </div>

                                <h3>Multiple Inputs and Outputs</h3>
                                <div class="command-box">
                                    <pre><code class="language-python"># Complex task
analyzer = dspy.Predict("text, task_type -> result, explanation, confidence")

result = analyzer(
    text="The stock market rose 5% today.",
    task_type="sentiment analysis"
)
print(result.result)       # positive
print(result.explanation)  # Market gains indicate positive sentiment
print(result.confidence)   # high</code></pre>
                                </div>
                            </div>

                            <!-- Using with Different Modules -->
                            <div class="content-block">
                                <h2>üß© Using with Different Modules</h2>

                                <p>Inline signatures work with all DSPy modules:</p>

                                <div class="command-box">
                                    <pre><code class="language-python">import dspy

# Basic prediction
predict = dspy.Predict("question -> answer")

# With chain-of-thought reasoning
cot = dspy.ChainOfThought("question -> answer")

# With multiple attempts and voting
ensemble = dspy.ChainOfThoughtWithHint("question, hint -> answer")

# ReAct agent with tools
agent = dspy.ReAct("goal -> plan, action")</code></pre>
                                </div>

                                <div class="tip-box">
                                    <span class="tip-icon">üí°</span>
                                    <p><strong>Pro tip:</strong> <code>ChainOfThought</code> automatically adds a
                                        <code>rationale</code> field to outputs, showing the model's reasoning!
                                    </p>
                                </div>

                                <div class="command-box">
                                    <pre><code class="language-python"># ChainOfThought adds reasoning
cot = dspy.ChainOfThought("question -> answer")
result = cot(question="What is 25 * 4?")

print(result.rationale)  # Let me calculate: 25 * 4 = 100
print(result.answer)     # 100</code></pre>
                                </div>
                            </div>

                            <!-- Field Naming Best Practices -->
                            <div class="content-block">
                                <h2>‚úÖ Field Naming Best Practices</h2>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚úÖ</span>
                                        <div class="section-content">
                                            <h4>Use Descriptive Names</h4>
                                            <p>Field names become part of the prompt, so make them meaningful.</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Good: descriptive
"customer_review -> sentiment, key_points"

# Bad: vague
"x -> y, z"</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚úÖ</span>
                                        <div class="section-content">
                                            <h4>Use snake_case</h4>
                                            <p>Python convention for variable names works best.</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Good
"source_text, target_language -> translated_text"

# Avoid
"sourceText, targetLanguage -> translatedText"</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">‚úÖ</span>
                                        <div class="section-content">
                                            <h4>Be Specific About Output Format</h4>
                                            <p>Field names hint at expected format.</p>
                                            <div class="command-box">
                                                <pre><code class="language-python"># Suggests yes/no answer
"text -> is_spam"

# Suggests a list
"article -> key_topics"

# Suggests a number
"product_reviews -> average_rating"</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- When to Use Inline -->
                            <div class="content-block">
                                <h2>üéØ When to Use Inline Signatures</h2>

                                <div class="use-case-grid">
                                    <div class="use-case ideal">
                                        <h4>‚úÖ Great For</h4>
                                        <ul>
                                            <li>Quick prototyping and experiments</li>
                                            <li>Simple, one-off tasks</li>
                                            <li>Interactive exploration (notebooks)</li>
                                            <li>Learning DSPy basics</li>
                                            <li>Tasks with obvious field names</li>
                                        </ul>
                                    </div>
                                    <div class="use-case alternative">
                                        <h4>‚ùå Consider Class-Based When</h4>
                                        <ul>
                                            <li>You need detailed field descriptions</li>
                                            <li>Tasks require documentation</li>
                                            <li>Building production systems</li>
                                            <li>Fields need type hints</li>
                                            <li>Reusing signatures across modules</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <!-- Practical Examples -->
                            <div class="content-block">
                                <h2>üîß Practical Examples</h2>

                                <h3>Building a Quick Chatbot</h3>
                                <div class="command-box">
                                    <pre><code class="language-python">import dspy

# Simple chatbot signature
chat = dspy.Predict("user_message, chat_history -> assistant_response")

# Simulate a conversation
history = ""
while True:
    user_input = input("You: ")
    if user_input.lower() == "quit":
        break
    
    result = chat(user_message=user_input, chat_history=history)
    print(f"Bot: {result.assistant_response}")
    
    # Update history
    history += f"User: {user_input}\nAssistant: {result.assistant_response}\n"</code></pre>
                                </div>

                                <h3>Content Moderation</h3>
                                <div class="command-box">
                                    <pre><code class="language-python"># Content moderation with reasoning
moderate = dspy.ChainOfThought("content -> is_appropriate, reason")

result = moderate(content="Check out this amazing product!")
print(f"Appropriate: {result.is_appropriate}")  # yes
print(f"Reason: {result.reason}")               # No harmful content detected</code></pre>
                                </div>

                                <h3>Data Extraction</h3>
                                <div class="command-box">
                                    <pre><code class="language-python"># Extract structured data
extract = dspy.Predict("email_text -> sender_name, subject, action_items")

email = """
From: John Smith
Subject: Q4 Planning Meeting

Hi team,
Please review the attached slides before Friday.
We need to finalize the budget by next week.
"""

result = extract(email_text=email)
print(result.sender_name)    # John Smith
print(result.subject)        # Q4 Planning Meeting
print(result.action_items)   # Review slides, finalize budget</code></pre>
                                </div>
                            </div>

                            <!-- Key Takeaways -->
                            <div class="content-block summary-block">
                                <h2>üìù Key Takeaways</h2>

                                <div class="chapter-sections-list no-icons">
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Inline signatures</strong> use string syntax:
                                                <code>"inputs -> outputs"</code>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Separate multiple fields</strong> with commas</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Field names matter</strong> - they become part of the prompt</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Works with all modules:</strong> Predict, ChainOfThought, ReAct,
                                                etc.</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <div class="section-content">
                                            <p><strong>Best for prototyping</strong> - use class-based for production
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Continue -->
                            <div class="content-block">
                                <div class="continue-btn-container">
                                    <a href="class-signatures.html" class="continue-btn">
                                        <span>Continue to Class-Based Signatures</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M5 12h14M12 5l7 7-7 7" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                </article>
            </div>
        </main>
    </div>

    <footer>
        <p>&copy; 2025 DSPy Ebook. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="../../assets/js/main.js?v=1"></script>
    <script src="../../assets/js/chapter_v2.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.initChapter) {
                window.initChapter({});
            }
            setTimeout(() => {
                if (window.Prism) window.Prism.highlightAll();
            }, 100);
        });
    </script>
</body>

</html>