<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercises | Chapter 3 | DSPy: The Comprehensive Guide</title>
    <meta name="description"
        content="Practice exercises for DSPy modules - build custom modules and multi-step pipelines.">
    <link rel="stylesheet" href="../../assets/css/style.css?v=2">
    <link rel="stylesheet" href="../../assets/css/chapter.css?v=8">
    <link rel="stylesheet" href="../../assets/css/content.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="chapter-page">
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <header>
        <div class="logo">
            <a href="../../index.html">
                <img src="../../src/assets/logos/logo.png" alt="DSPy Ebook Logo">
                <span>DSPy Ebook</span>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#chapters">Chapters</a></li>
                <li><a href="https://github.com/dustinober1/Ebook_DSPy" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <div class="chapter-layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Chapter 3</h2>
                <span class="sidebar-subtitle">Modules</span>
            </div>
            <nav class="sidebar-nav">
                <ul class="section-list" id="section-list">
                    <li class="section-item viewed" data-section="intro">
                        <a href="index.html">
                            <span class="section-number">1</span>
                            <span class="section-title">Chapter Overview</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="what-are-modules">
                        <a href="what-are-modules.html">
                            <span class="section-number">2</span>
                            <span class="section-title">What Are Modules?</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="built-in-modules">
                        <a href="built-in-modules.html">
                            <span class="section-number">3</span>
                            <span class="section-title">Built-in Modules</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="custom-modules">
                        <a href="custom-modules.html">
                            <span class="section-number">4</span>
                            <span class="section-title">Creating Custom Modules</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="module-composition">
                        <a href="module-composition.html">
                            <span class="section-number">5</span>
                            <span class="section-title">Module Composition</span>
                        </a>
                    </li>
                    <li class="section-item active" data-section="exercises">
                        <a href="exercises.html">
                            <span class="section-number">6</span>
                            <span class="section-title">Exercises</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="solutions">
                        <a href="solutions.html">
                            <span class="section-number">7</span>
                            <span class="section-title">Solutions</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="../chapter-04/index.html" class="next-chapter-btn">
                    Next: Chapter 04 ‚Üí
                </a>
            </div>
        </aside>

        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle Sidebar">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <main class="chapter-content" id="main-content">
            <div class="reading-progress" id="reading-progress">
                <div class="progress-bar"></div>
            </div>

            <section class="chapter-hero">
                <div class="chapter-hero-content is-visible fade-in-up">
                    <span class="chapter-label">Chapter 3 ¬∑ Section 6</span>
                    <h1 class="chapter-title">Exercises</h1>
                    <p class="chapter-description">Build custom modules and compose pipelines for real-world tasks.</p>
                    <div class="chapter-meta">
                        <span class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            5 Exercises
                        </span>
                        <span class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            ~1-2 hours
                        </span>
                    </div>
                </div>
            </section>

            <div class="content-wrapper">
                <article class="content-article" id="content-article">
                    <section class="content-section is-visible" id="exercises" data-section="exercises">
                        <div class="markdown-content" id="exercises-content">

                            <!-- Introduction -->
                            <div class="content-block">
                                <h2>üèãÔ∏è Put Your Module Skills to Work</h2>

                                <p>These exercises progress from basic module usage to building sophisticated
                                    multi-step pipelines. Apply what you've learned!</p>

                                <div class="tip-box">
                                    <span class="tip-icon">üí°</span>
                                    <p><strong>Tip:</strong> Start by sketching out your module structure on paper
                                        before coding. Think about what signatures you need and how data flows between
                                        steps.</p>
                                </div>
                            </div>

                            <!-- Exercise 1 -->
                            <div class="content-block exercise-block">
                                <div class="exercise-header">
                                    <span class="exercise-number">Exercise 1</span>
                                    <span class="difficulty beginner">‚≠ê Beginner</span>
                                </div>
                                <h3>Comparing Built-in Modules</h3>

                                <p><strong>Task:</strong> Use the same signature with different built-in modules and
                                    compare the results.</p>

                                <p><strong>Requirements:</strong></p>
                                <ul>
                                    <li>Create a <code>MathWordProblem</code> signature with <code>problem</code> input
                                        and <code>answer</code> output</li>
                                    <li>Use it with <code>dspy.Predict</code> and <code>dspy.ChainOfThought</code></li>
                                    <li>Test with: "A store has 234 apples. If 67 are sold and 45 more are delivered,
                                        how many apples are there now?"</li>
                                    <li>Compare the outputs and note differences</li>
                                </ul>

                                <div class="expected-output">
                                    <h4>Questions to Answer:</h4>
                                    <ul>
                                        <li>Which module gave the correct answer?</li>
                                        <li>What additional output did ChainOfThought provide?</li>
                                        <li>When would you use each module?</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Exercise 2 -->
                            <div class="content-block exercise-block">
                                <div class="exercise-header">
                                    <span class="exercise-number">Exercise 2</span>
                                    <span class="difficulty beginner">‚≠ê Beginner</span>
                                </div>
                                <h3>Your First Custom Module</h3>

                                <p><strong>Task:</strong> Create a custom module that performs two-step summarization.
                                </p>

                                <p><strong>Requirements:</strong></p>
                                <ul>
                                    <li>Create a <code>TwoStepSummarizer</code> module that:
                                        <ul>
                                            <li>First extracts key points from a document</li>
                                            <li>Then synthesizes those points into a summary</li>
                                        </ul>
                                    </li>
                                    <li>Use <code>dspy.Prediction</code> to return both key_points and final_summary
                                    </li>
                                    <li>Test with a paragraph about any topic of your choice</li>
                                </ul>

                                <div class="command-box">
                                    <pre><code class="language-python"># Your module should work like this:
summarizer = TwoStepSummarizer()
result = summarizer(document="Your long document here...")

print(result.key_points)    # List of key points
print(result.final_summary) # Coherent summary</code></pre>
                                </div>
                            </div>

                            <!-- Exercise 3 -->
                            <div class="content-block exercise-block">
                                <div class="exercise-header">
                                    <span class="exercise-number">Exercise 3</span>
                                    <span class="difficulty intermediate">‚≠ê‚≠ê Intermediate</span>
                                </div>
                                <h3>Branching Pipeline</h3>

                                <p><strong>Task:</strong> Build a module that routes requests to different handlers
                                    based on classification.</p>

                                <p><strong>Requirements:</strong></p>
                                <ul>
                                    <li>Create a <code>SmartAssistant</code> module that:
                                        <ul>
                                            <li>First classifies the request type (question, creative, technical,
                                                casual)</li>
                                            <li>Routes to appropriate handler:
                                                <ul>
                                                    <li>Questions ‚Üí ChainOfThought for reasoned answers</li>
                                                    <li>Creative ‚Üí Predict with creative tone</li>
                                                    <li>Technical ‚Üí ChainOfThought with technical focus</li>
                                                    <li>Casual ‚Üí Simple Predict</li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>Return the response along with which path was taken</li>
                                </ul>

                                <p><strong>Test Cases:</strong></p>
                                <ul>
                                    <li>"Write a short poem about clouds"</li>
                                    <li>"Why is the sky blue?"</li>
                                    <li>"Explain how a compiler works"</li>
                                    <li>"Hey, what's up?"</li>
                                </ul>
                            </div>

                            <!-- Exercise 4 -->
                            <div class="content-block exercise-block">
                                <div class="exercise-header">
                                    <span class="exercise-number">Exercise 4</span>
                                    <span class="difficulty intermediate">‚≠ê‚≠ê Intermediate</span>
                                </div>
                                <h3>Multi-Step Analysis Pipeline</h3>

                                <p><strong>Task:</strong> Build a news article analyzer with multiple parallel analyses.
                                </p>

                                <p><strong>Requirements:</strong></p>
                                <ul>
                                    <li>Create a <code>NewsAnalyzer</code> module that processes an article through:
                                        <ul>
                                            <li>Sentiment analysis</li>
                                            <li>Key entity extraction</li>
                                            <li>Topic classification</li>
                                            <li>Bias detection</li>
                                        </ul>
                                    </li>
                                    <li>Combine all analyses into a comprehensive report</li>
                                    <li>Return structured output with all components</li>
                                </ul>

                                <p><strong>Test with this article:</strong></p>
                                <div class="command-box">
                                    <pre><code class="language-text">Tech giant XYZ Corp announced record profits today, 
exceeding analyst expectations by 15%. CEO Jane Smith 
attributed the success to their new AI product line, 
which has seen rapid adoption across enterprise customers. 
Critics argue the company's market dominance raises 
antitrust concerns, while investors remain bullish on 
the stock's future performance.</code></pre>
                                </div>
                            </div>

                            <!-- Exercise 5 -->
                            <div class="content-block exercise-block">
                                <div class="exercise-header">
                                    <span class="exercise-number">Exercise 5</span>
                                    <span class="difficulty advanced">‚≠ê‚≠ê‚≠ê Advanced</span>
                                </div>
                                <h3>Complete Application: Study Assistant</h3>

                                <p><strong>Task:</strong> Build a comprehensive study assistant that helps students
                                    learn from text materials.</p>

                                <p><strong>Requirements:</strong></p>
                                <p>Create a <code>StudyAssistant</code> module with these capabilities:</p>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">1Ô∏è‚É£</span>
                                        <div class="section-content">
                                            <h4>summarize()</h4>
                                            <p>Create a concise summary of the material</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">2Ô∏è‚É£</span>
                                        <div class="section-content">
                                            <h4>generate_questions()</h4>
                                            <p>Create N study questions with answers</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">3Ô∏è‚É£</span>
                                        <div class="section-content">
                                            <h4>explain_concept()</h4>
                                            <p>Explain a specific concept from the material</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">4Ô∏è‚É£</span>
                                        <div class="section-content">
                                            <h4>create_flashcards()</h4>
                                            <p>Generate flashcard pairs (front: term/question, back: definition/answer)
                                            </p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">5Ô∏è‚É£</span>
                                        <div class="section-content">
                                            <h4>full_study_guide()</h4>
                                            <p>Run all analyses and compile a complete study guide</p>
                                        </div>
                                    </div>
                                </div>

                                <p><strong>Bonus:</strong> Add error handling for edge cases (empty text, very short
                                    content, etc.)</p>
                            </div>

                            <!-- Tips -->
                            <div class="content-block">
                                <h2>üí° Exercise Tips</h2>

                                <div class="chapter-sections-list">
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üìê</span>
                                        <div class="section-content">
                                            <h4>Plan Your Signatures First</h4>
                                            <p>Define all the signatures you need before writing the module</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üß™</span>
                                        <div class="section-content">
                                            <h4>Test Each Step</h4>
                                            <p>Verify each sub-module works before composing them together</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üîç</span>
                                        <div class="section-content">
                                            <h4>Print Intermediate Results</h4>
                                            <p>Debug by printing what each step returns</p>
                                        </div>
                                    </div>
                                    <div class="chapter-section-item">
                                        <span class="section-icon">üì¶</span>
                                        <div class="section-content">
                                            <h4>Use dspy.Prediction</h4>
                                            <p>Return structured results for clean interfaces</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Continue -->
                            <div class="content-block">
                                <div class="success-content">
                                    <span class="success-icon-large">üéâ</span>
                                    <h2>Ready to Compare?</h2>
                                    <p>Check your solutions against ours!</p>
                                </div>
                                <div class="continue-btn-container">
                                    <a href="solutions.html" class="continue-btn">
                                        <span>View Solutions</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M5 12h14M12 5l7 7-7 7" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                </article>
            </div>
        </main>
    </div>

    <footer>
        <p>&copy; 2025 DSPy Ebook. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="../../assets/js/main.js?v=1"></script>
    <script src="../../assets/js/chapter_v2.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.initChapter) {
                window.initChapter({});
            }
            setTimeout(() => {
                if (window.Prism) window.Prism.highlightAll();
            }, 100);
        });
    </script>
</body>

</html>