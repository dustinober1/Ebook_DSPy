<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entity Extraction | Chapter 6 | DSPy: The Comprehensive Guide</title>
    <meta name="description"
        content="Learn how to build powerful entity extraction systems using DSPy for identifying and structuring information from text.">
    <link rel="stylesheet" href="../../assets/css/style.css?v=2">
    <link rel="stylesheet" href="../../assets/css/chapter.css?v=8">
    <link rel="stylesheet" href="../../assets/css/content.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="chapter-page">
    <header>
        <div class="logo">
            <a href="../../index.html">
                <img src="../../src/assets/logos/logo.png" alt="DSPy Ebook Logo">
                <span>DSPy Ebook</span>
            </a>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#chapters">Chapters</a></li>
                <li><a href="https://github.com/dustinober1/Ebook_DSPy" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <div class="chapter-layout">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Chapter 6</h2>
                <span class="sidebar-subtitle">Real-World Apps</span>
            </div>
            <nav class="sidebar-nav">
                <ul class="section-list" id="section-list">
                    <li class="section-item viewed" data-section="intro">
                        <a href="index.html">
                            <span class="section-number">1</span>
                            <span class="section-title">Chapter Overview</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="rag-systems">
                        <a href="rag-systems.html">
                            <span class="section-number">2</span>
                            <span class="section-title">RAG Systems</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="multi-hop-search">
                        <a href="multi-hop-search.html">
                            <span class="section-number">3</span>
                            <span class="section-title">Multi-hop Search</span>
                        </a>
                    </li>
                    <li class="section-item viewed" data-section="classification-tasks">
                        <a href="classification-tasks.html">
                            <span class="section-number">4</span>
                            <span class="section-title">Classification Tasks</span>
                        </a>
                    </li>
                    <li class="section-item active" data-section="entity-extraction">
                        <a href="entity-extraction.html">
                            <span class="section-number">5</span>
                            <span class="section-title">Entity Extraction</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="intelligent-agents">
                        <a href="intelligent-agents.html">
                            <span class="section-number">6</span>
                            <span class="section-title">Intelligent Agents</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="code-generation">
                        <a href="code-generation.html">
                            <span class="section-number">7</span>
                            <span class="section-title">Code Generation</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="exercises">
                        <a href="exercises.html">
                            <span class="section-number">8</span>
                            <span class="section-title">Exercises</span>
                        </a>
                    </li>
                    <li class="section-item" data-section="solutions">
                        <a href="solutions.html">
                            <span class="section-number">9</span>
                            <span class="section-title">Solutions</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="../chapter-07/index.html" class="next-chapter-btn">
                    Next: Chapter 07 →
                </a>
            </div>
        </aside>

        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle Sidebar">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <main class="chapter-content">
            <div class="reading-progress" id="reading-progress">
                <div class="progress-bar"></div>
            </div>

            <section class="chapter-hero">
                <div class="chapter-hero-content is-visible fade-in-up">
                    <span class="chapter-label">Chapter 6 · Section 5</span>
                    <h1 class="chapter-title">Entity Extraction</h1>
                    <p class="chapter-description">Mine structured information from unstructured text with precision.
                    </p>
                    <div class="chapter-meta">
                        <span class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            ~15 min read
                        </span>
                    </div>
                </div>
            </section>

            <div class="content-wrapper">
                <article class="content-article" id="content-article">
                    <section class="content-section is-visible" id="introduction" data-section="introduction">
                        <div class="markdown-content" id="introduction-content">
                            <!-- Introduction -->
                            <div class="content-block">
                                <h2>Introduction</h2>
                                <p>Entity extraction, or Named Entity Recognition (NER), is pivotal for transforming
                                    unstructured text into structured data. It underpins applications like resume
                                    parsing, contract analysis, and medical record processing. DSPy provides the tools
                                    to build sophisticated extraction systems that handle real-world complexity.</p>
                            </div>

                            <!-- Understanding Entity Extraction -->
                            <div class="content-block">
                                <h2>Understanding Entity Extraction</h2>

                                <h3>Common Entity Types</h3>
                                <div class="example-box">
                                    <ul class="simple-list">
                                        <li><strong>Person:</strong> John Smith, Dr. Sarah Johnson</li>
                                        <li><strong>Organization:</strong> Google, Microsoft, Stanford University</li>
                                        <li><strong>Location:</strong> New York, 123 Main Street</li>
                                        <li><strong>Date/Time:</strong> January 15, 2024, 3:30 PM</li>
                                        <li><strong>Money:</strong> $50,000, €1.2 million</li>
                                    </ul>
                                </div>

                                <h3>Real-World Applications</h3>
                                <ul class="feature-list">
                                    <li><strong>Resume Processing:</strong> Extract skills, experience, and education.
                                    </li>
                                    <li><strong>Contract Analysis:</strong> Identify parties, dates, and clauses.</li>
                                    <li><strong>Medical Records:</strong> Extract diagnoses, medications, and
                                        procedures.</li>
                                </ul>
                            </div>

                            <!-- Building Entity Extractors -->
                            <div class="content-block">
                                <h2>Building Entity Extractors</h2>

                                <h3>Basic Entity Extractor</h3>
                                <p>A simple module to extract specified entity types:</p>

                                <div class="code-block">
                                    <div class="code-header">
                                        <span class="code-language">Python</span>
                                        <button class="copy-btn" aria-label="Copy code">Copy</button>
                                    </div>
                                    <pre><code class="language-python">import dspy

class BasicEntityExtractor(dspy.Module):
    def __init__(self, entity_types):
        super().__init__()
        self.entity_types = entity_types
        types_str = ", ".join(entity_types)
        self.extract = dspy.Predict(
            f"text, entity_types[{types_str}] -> entities"
        )

    def forward(self, text):
        result = self.extract(
            text=text,
            entity_types=", ".join(self.entity_types)
        )
        # Assume result.entities is parsed into a structured list
        return dspy.Prediction(
            entities=result.entities,
            raw_output=result.entities
        )</code></pre>
                                </div>

                                <h3>Advanced Entity Extractor with Context</h3>
                                <p>Handling context, validation, and disambiguation:</p>

                                <div class="code-block">
                                    <div class="code-header">
                                        <span class="code-language">Python</span>
                                        <button class="copy-btn" aria-label="Copy code">Copy</button>
                                    </div>
                                    <pre><code class="language-python">class AdvancedEntityExtractor(dspy.Module):
    def __init__(self, entity_types, context_window=100):
        super().__init__()
        self.entity_types = entity_types
        
        types_str = ", ".join(entity_types)
        self.find_entities = dspy.ChainOfThought(
            f"text, context, entity_types[{types_str}] -> entities_with_positions"
        )
        self.validate_entities = dspy.Predict(
            "entity, text_context -> is_valid, corrected_entity, confidence"
        )
        self.disambiguate = dspy.Predict(
            "entity, context, possible_meanings -> disambiguated_entity, reasoning"
        )

    def forward(self, text, document_context=None):
        context = document_context[-100:] if document_context else text

        # Find entities
        extraction = self.find_entities(
            text=text,
            context=context,
            entity_types=", ".join(self.entity_types)
        )

        # Logic to parse, validate, and disambiguate entities would follow...
        # Returns structured entities list
        return dspy.Prediction(
            entities=extraction.entities_with_positions,
            extraction_reasoning=extraction.rationale
        )</code></pre>
                                </div>
                            </div>

                            <!-- Specialized Applications -->
                            <div class="content-block">
                                <h2>Specialized Applications</h2>

                                <h3>Resume/CV Parser</h3>
                                <p>Extracting structured data from resumes:</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span class="code-language">Python</span>
                                        <button class="copy-btn" aria-label="Copy code">Copy</button>
                                    </div>
                                    <pre><code class="language-python">class ResumeParser(dspy.Module):
    def __init__(self):
        super().__init__()
        self.contact_info = dspy.Predict(
            "resume_text -> name, email, phone, location, linkedin"
        )
        self.extract_sections = dspy.Predict(
            "resume_text -> work_experience, education, skills, certifications"
        )
        self.parse_experience = dspy.ChainOfThought(
            "experience_section -> detailed_experiences"
        )

    def forward(self, resume_text):
        contact = self.contact_info(resume_text=resume_text)
        sections = self.extract_sections(resume_text=resume_text)
        
        # Detailed parsing logic...

        return dspy.Prediction(
            contact_info=contact,
            sections=sections
        )</code></pre>
                                </div>
                            </div>

                            <!-- Best Practices -->
                            <div class="content-block">
                                <h2>Best Practices</h2>
                                <ul class="feature-list">
                                    <li><strong>Ambiguity:</strong> Use context to disambiguate entities (e.g., "Apple"
                                        fruit vs. company).</li>
                                    <li><strong>Validation:</strong> Use regex or rules to validate specific types like
                                        emails or dates.</li>
                                    <li><strong>Nested Entities:</strong> Handle overlapping entities carefully (e.g.,
                                        "University of [California]").</li>
                                    <li><strong>Optimization:</strong> Use <code>BootstrapFewShot</code> with a custom
                                        F1 metric to improve extraction performance.</li>
                                </ul>
                            </div>

                            <!-- Continue -->
                            <div class="content-block">
                                <div class="continue-btn-container">
                                    <a href="intelligent-agents.html" class="continue-btn">
                                        <span>Continue to Intelligent Agents</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M5 12h14M12 5l7 7-7 7" />
                                        </svg>
                                    </a>
                                </div>
                            </div>

                        </div>
                    </section>
                </article>
            </div>
        </main>
    </div>

    <footer>
        <p>&copy; 2025 DSPy Ebook. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="../../assets/js/main.js?v=1"></script>
    <script src="../../assets/js/chapter_v2.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.initChapter) {
                window.initChapter({});
            }
            setTimeout(() => {
                if (window.Prism) window.Prism.highlightAll();
            }, 100);
        });
    </script>
</body>

</html>