<div class="content-intro fade-in-up">
    <h1 class="welcome-title">ğŸš€ Setup Instructions</h1>
    <p class="welcome-subtitle">Get your DSPy environment ready in 15-30 minutes</p>
</div>

<!-- Setup Roadmap -->
<div class="content-block">
    <h2>Your Setup Roadmap</h2>

    <div class="setup-steps">
        <div class="setup-step">
            <div class="step-circle">1</div>
            <div class="step-info">
                <h4>Python Check</h4>
                <p>Verify Python 3.9+</p>
                <span class="step-time">1-2 min</span>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="setup-step">
            <div class="step-circle">2</div>
            <div class="step-info">
                <h4>Project Setup</h4>
                <p>Create directory</p>
                <span class="step-time">1 min</span>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="setup-step">
            <div class="step-circle">3</div>
            <div class="step-info">
                <h4>Virtual Env</h4>
                <p>Isolate dependencies</p>
                <span class="step-time">2-3 min</span>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="setup-step">
            <div class="step-circle">4</div>
            <div class="step-info">
                <h4>Installation</h4>
                <p>Install DSPy</p>
                <span class="step-time">2-5 min</span>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="setup-step">
            <div class="step-circle">5</div>
            <div class="step-info">
                <h4>API Config</h4>
                <p>Set up keys</p>
                <span class="step-time">3-5 min</span>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="setup-step">
            <div class="step-circle">6</div>
            <div class="step-info">
                <h4>Testing</h4>
                <p>Verify setup</p>
                <span class="step-time">2-3 min</span>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="setup-step complete">
            <div class="step-circle">âœ“</div>
            <div class="step-info">
                <h4>Ready!</h4>
                <p>Start learning</p>
            </div>
        </div>
    </div>
</div>

<!-- Step 1: Python -->
<div class="content-block">
    <h2>Step 1: Verify Python Installation</h2>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Open your terminal and run:</span>
        </div>
        <pre><code class="language-bash">python3 --version</code></pre>
    </div>

    <div class="expected-output">
        <h4>Expected outputs (any of these is good):</h4>
        <div class="output-examples">
            <code class="output ok">Python 3.9.0</code> <span class="status">âœ… Minimum required</span>
            <code class="output ok">Python 3.10.8</code> <span class="status">âœ… Good choice</span>
            <code class="output ok">Python 3.11.5</code> <span class="status">âœ… Latest stable</span>
            <code class="output ok">Python 3.12.0</code> <span class="status">âœ… Cutting edge</span>
        </div>
    </div>

    <div class="tip-box">
        <span class="tip-icon">ğŸ’¡</span>
        <p><strong>Pro Tip:</strong> If <code>python3</code> doesn't work, try <code>python</code>. Different systems
            use different commands.</p>
    </div>

    <div class="install-options">
        <h4>Need to Install/Upgrade Python?</h4>
        <div class="install-grid">
            <div class="install-option">
                <span class="platform">ğŸªŸ Windows</span>
                <a href="https://www.python.org/downloads/" target="_blank">Python Installer</a>
            </div>
            <div class="install-option">
                <span class="platform">ğŸ macOS</span>
                <code>brew install python</code>
            </div>
            <div class="install-option">
                <span class="platform">ğŸ§ Linux</span>
                <code>sudo apt install python3.11</code>
            </div>
        </div>
    </div>
</div>

<!-- Step 2: Project Directory -->
<div class="content-block">
    <h2>Step 2: Create Your Project Directory</h2>

    <div class="platform-tabs">
        <div class="platform-tab active" data-platform="unix">
            <span class="platform-icon">ğŸğŸ§</span>
            <span class="platform-name">macOS / Linux</span>
        </div>
        <div class="platform-tab" data-platform="win-cmd">
            <span class="platform-icon">ğŸªŸ</span>
            <span class="platform-name">Windows CMD</span>
        </div>
        <div class="platform-tab" data-platform="win-ps">
            <span class="platform-icon">ğŸªŸ</span>
            <span class="platform-name">PowerShell</span>
        </div>
    </div>

    <div class="command-box">
        <pre><code class="language-bash"># Create the directory
mkdir ~/dspy-learning

# Navigate into it
cd ~/dspy-learning

# Verify location
pwd</code></pre>
    </div>

    <div class="success-indicator">
        <span class="success-icon">ğŸ¯</span>
        <p><strong>Success:</strong> You should see your DSPy project directory path!</p>
    </div>
</div>

<!-- Step 3: Virtual Environment -->
<div class="content-block">
    <h2>Step 3: Set Up Virtual Environment</h2>

    <div class="why-box">
        <h4>Why Virtual Environments?</h4>
        <div class="why-reasons">
            <div class="reason">
                <span class="reason-icon">ğŸ“¦</span>
                <span class="reason-text">Isolate Dependencies</span>
            </div>
            <div class="reason">
                <span class="reason-icon">ğŸ›¡ï¸</span>
                <span class="reason-text">Avoid Conflicts</span>
            </div>
            <div class="reason">
                <span class="reason-icon">ğŸ§¹</span>
                <span class="reason-text">Clean Management</span>
            </div>
        </div>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Create the environment:</span>
        </div>
        <pre><code class="language-bash">python3 -m venv venv</code></pre>
    </div>

    <div class="activate-box">
        <h4>Activate the Environment</h4>
        <div class="activate-options">
            <div class="activate-option">
                <span class="platform">macOS / Linux</span>
                <code>source venv/bin/activate</code>
            </div>
            <div class="activate-option">
                <span class="platform">Windows (CMD)</span>
                <code>venv\Scripts\activate</code>
            </div>
            <div class="activate-option">
                <span class="platform">Windows (PowerShell)</span>
                <code>venv\Scripts\Activate.ps1</code>
            </div>
        </div>
    </div>

    <div class="verify-box">
        <p><strong>Verify activation:</strong> Your prompt should now show <code>(venv)</code> at the beginning!</p>
    </div>

    <div class="warning-box">
        <span class="warning-icon">ğŸš¨</span>
        <p><strong>Important:</strong> Always activate your virtual environment before working on DSPy projects!</p>
    </div>
</div>

<!-- Step 4: Install DSPy -->
<div class="content-block">
    <h2>Step 4: Install DSPy and Dependencies</h2>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">1. Start with fresh pip:</span>
        </div>
        <pre><code class="language-bash">pip install --upgrade pip</code></pre>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">2. Install DSPy core:</span>
        </div>
        <pre><code class="language-bash">pip install dspy-ai</code></pre>
    </div>

    <div class="install-result">
        <h4>What you get:</h4>
        <ul>
            <li>âœ… DSPy framework</li>
            <li>âœ… Core dependencies</li>
            <li>âœ… Language model adapters</li>
        </ul>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">3. Verify installation:</span>
        </div>
        <pre><code class="language-bash">python3 -c "import dspy; print(f'DSPy version: {dspy.__version__}')"</code></pre>
    </div>

    <div class="expected-output">
        <code class="output ok">DSPy version: 2.5.x</code>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">4. Install additional dependencies:</span>
        </div>
        <pre><code class="language-bash">pip install openai anthropic python-dotenv</code></pre>
    </div>

    <div class="packages-table">
        <div class="package-row">
            <span class="package-name">openai</span>
            <span class="package-purpose">OpenAI API client</span>
        </div>
        <div class="package-row">
            <span class="package-name">anthropic</span>
            <span class="package-purpose">Claude API client</span>
        </div>
        <div class="package-row">
            <span class="package-name">python-dotenv</span>
            <span class="package-purpose">Environment variable management</span>
        </div>
    </div>
</div>

<!-- Step 5: Configure API -->
<div class="content-block">
    <h2>Step 5: Configure API Access</h2>

    <div class="provider-selector">
        <div class="provider-option selected" data-provider="openai">
            <span class="provider-badge recommended">Recommended</span>
            <span class="provider-icon">ğŸ’³</span>
            <span class="provider-name">OpenAI</span>
        </div>
        <div class="provider-option" data-provider="anthropic">
            <span class="provider-icon">ğŸ¤–</span>
            <span class="provider-name">Claude</span>
        </div>
        <div class="provider-option" data-provider="local">
            <span class="provider-badge">Free</span>
            <span class="provider-icon">ğŸ </span>
            <span class="provider-name">Local</span>
        </div>
    </div>

    <div class="api-setup openai">
        <h4>Getting Your OpenAI API Key</h4>
        <ol class="setup-steps-list">
            <li><strong>Visit:</strong> <a href="https://platform.openai.com/" target="_blank">platform.openai.com</a>
            </li>
            <li><strong>Sign up</strong> or <strong>log in</strong></li>
            <li><strong>Navigate</strong> to API Keys section</li>
            <li><strong>Create</strong> new secret key</li>
            <li><strong>Copy</strong> your key (starts with <code>sk-</code>)</li>
        </ol>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Create a .env file:</span>
        </div>
        <pre><code class="language-bash">touch .env</code></pre>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Add your key to .env:</span>
        </div>
        <pre><code class="language-bash">OPENAI_API_KEY=sk-your-actual-api-key-here</code></pre>
    </div>

    <div class="security-warning">
        <span class="warning-icon">ğŸš¨</span>
        <p><strong>Security Warning:</strong> Never commit API keys to Git or share them publicly!</p>
    </div>

    <div class="local-option">
        <h4>Using Local Models (Free Option)</h4>
        <ol class="setup-steps-list">
            <li><strong>Install Ollama:</strong> <a href="https://ollama.ai/" target="_blank">ollama.ai</a></li>
            <li><strong>Pull model:</strong> <code>ollama pull qwen2.5:0.5b</code></li>
            <li><strong>Use locally:</strong> No costs, no API keys!</li>
        </ol>
        <div class="local-benefits">
            <span class="benefit">âœ… Only ~0.5GB</span>
            <span class="benefit">âœ… Runs on most computers</span>
            <span class="benefit">âœ… Free and private</span>
        </div>
    </div>
</div>

<!-- Step 6: Test -->
<div class="content-block">
    <h2>Step 6: Test Your Setup</h2>

    <div class="test-intro">
        <span class="test-icon">ğŸ§ª</span>
        <h4>The Moment of Truth!</h4>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Create test_setup.py:</span>
        </div>
        <pre><code class="language-python">"""
âœ¨ DSPy Setup Verification Script âœ¨
Tests your installation and API connectivity
"""

import os
from dotenv import load_dotenv
import dspy

# Load environment variables
load_dotenv()

def test_setup():
    print("ğŸš€ DSPy Setup Verification")
    print("=" * 50)
    
    # Check DSPy
    print(f"âœ… DSPy version: {dspy.__version__}")
    
    # Check API key
    api_key = os.getenv("OPENAI_API_KEY")
    if api_key:
        print("âœ… OpenAI API key found")
        
        # Configure and test
        lm = dspy.LM(
            model="openai/gpt-4o-mini",
            api_key=api_key
        )
        dspy.configure(lm=lm)
        
        # Simple test
        class SimpleQA(dspy.Signature):
            question: str = dspy.InputField()
            answer: str = dspy.OutputField()
        
        predictor = dspy.Predict(SimpleQA)
        result = predictor(question="What is 2 + 2?")
        
        print(f"âœ… API Test: 2 + 2 = {result.answer}")
        print("=" * 50)
        print("ğŸ‰ SUCCESS! Your DSPy environment is ready!")
    else:
        print("âš ï¸ No API key found. Add to .env file.")

if __name__ == "__main__":
    test_setup()</code></pre>
    </div>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Run the test:</span>
        </div>
        <pre><code class="language-bash">python3 test_setup.py</code></pre>
    </div>

    <div class="expected-output success">
        <h4>Expected Successful Output:</h4>
        <pre class="output-block">ğŸš€ DSPy Setup Verification
==================================================
âœ… DSPy version: 2.5.x
âœ… OpenAI API key found
âœ… API Test: 2 + 2 = 4
==================================================
ğŸ‰ SUCCESS! Your DSPy environment is ready!</pre>
    </div>

    <div class="troubleshooting">
        <h4>Troubleshooting Common Issues</h4>
        <div class="trouble-grid">
            <div class="trouble-item">
                <span class="error-msg">"No module named 'dspy'"</span>
                <span class="solution">Activate venv: <code>source venv/bin/activate</code></span>
            </div>
            <div class="trouble-item">
                <span class="error-msg">"API key not found"</span>
                <span class="solution">Create .env file with your key</span>
            </div>
            <div class="trouble-item">
                <span class="error-msg">"Invalid API key"</span>
                <span class="solution">Verify key in provider dashboard</span>
            </div>
        </div>
    </div>
</div>

<!-- Step 7: Clone Book Repo -->
<div class="content-block">
    <h2>Step 7: Get Book Examples (Optional)</h2>

    <div class="command-box">
        <div class="command-header">
            <span class="command-label">Clone the book repository:</span>
        </div>
        <pre><code class="language-bash"># Go to your learning directory
cd ~/dspy-learning

# Clone the book repository
git clone https://github.com/dustinober1/Ebook_DSPy.git

# Enter the directory
cd Ebook_DSPy

# Install all dependencies
pip install -r requirements.txt</code></pre>
    </div>

    <div class="repo-structure">
        <h4>Repository Structure</h4>
        <pre class="structure-tree">Ebook_DSPy/
â”œâ”€â”€ examples/          ğŸ“ All code examples by chapter
â”‚   â”œâ”€â”€ chapter01/
â”‚   â”œâ”€â”€ chapter02/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ exercises/         âœï¸ Exercise starter code & solutions
â”œâ”€â”€ assets/           ğŸ“Š Datasets and resources
â””â”€â”€ scripts/          ğŸ› ï¸ Utility scripts</pre>
    </div>
</div>

<!-- Quick Reference -->
<div class="content-block">
    <h2>ğŸ“‹ Quick Reference Card</h2>

    <div class="quick-ref-grid">
        <div class="quick-ref-item">
            <span class="ref-label">Activate venv</span>
            <code>source venv/bin/activate</code>
        </div>
        <div class="quick-ref-item">
            <span class="ref-label">Deactivate venv</span>
            <code>deactivate</code>
        </div>
        <div class="quick-ref-item">
            <span class="ref-label">Install package</span>
            <code>pip install package-name</code>
        </div>
        <div class="quick-ref-item">
            <span class="ref-label">Run Python script</span>
            <code>python3 script.py</code>
        </div>
        <div class="quick-ref-item">
            <span class="ref-label">Check DSPy version</span>
            <code>python3 -c "import dspy; print(dspy.__version__)"</code>
        </div>
    </div>
</div>

<!-- Success -->
<div class="content-block success-block">
    <div class="success-content">
        <span class="success-icon-large">ğŸ‰</span>
        <h2>Congratulations!</h2>
        <p>Your DSPy environment is ready. You can now start Chapter 1!</p>
        <div class="next-action">
            <a href="../chapter-01/index.html" class="start-learning-btn">Start Learning DSPy â†’</a>
        </div>
    </div>
</div>